{"version":3,"sources":["components/DiagramConfiguration.tsx","components/ChordConfiguration.tsx","components/ChordsSequence.tsx","components/layout/BasicTabs.tsx","components/ChordsInput.tsx","components/ConfigurationPanel.tsx","ChordDiagram/ChordDiagram.ts","components/MainChord.tsx","ChordDiagram/StringToChord.ts","parser/parseChords.ts","parser/tokenizer.ts","parser/parser.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Wraper","styled","div","Row","DiagramConfiguration","diagramConfiguration","setDiagramConfiguration","handleNumberChange","value","param","handleBooleanChange","handleStringChange","TextField","label","variant","defaultValue","width","onBlur","e","parseInt","target","height","numOfStrings","numOfFrets","stringWidth","fretsWidth","animationDuration","forcePosition","FormControlLabel","control","Switch","checked","showFretsLabels","onChange","showBridgeLabel","showFingerLabels","showOpenStringsLabels","showTuning","tuning","split","defaultColor","bridgeColor","stringColor","fretColor","textColor","labelColor","backgroundColor","fontFamily","fontSize","fontStyle","fontWeight","ChordConfigurationWrapper","ChordConfiguration","props","useState","chord","setValue","index","StyledButton","button","ButtonWrapper","ChordsSequence","handleChange","newChords","chords","setChords","removeChord","splice","map","onClick","StyledPanel","hidden","StylePanelContentWrapper","Box","TabPanel","children","role","StyleTabsWrapper","BasicTabs","tabs","React","sx","borderBottom","borderColor","Tabs","event","newValue","tab","Tab","title","content","ChordsInput","join","Wrapper","ConfigurationPanel","defaultParams","fingersLabelColor","ChordDiagram","selector","params","draw","elements","calcedParams","currentTitle","this","SVG","addTo","size","stringSpacing","fretSpacing","origin","x","y","bridgeStrokeWidth","Math","ceil","maxFontSize","max","layer","msg","color","attrs","textAttrs","family","style","weight","opacity","text","stroke","fill","font","move","length","fromX","fromY","toX","toY","line","circle","console","log","table","strings","frets","layers","points","forEach","point","drawPointAt","baseDiagram","group","attr","id","background","fretsCover","bridge","bridgeCover","fretLabels","fretLabelsCover","stringsLabels","barres","fingers","stringMarkings","chordTitle1","chordTitle2","coverTopGradient","gradient","add","stop","rotate","coverBottomGradient","diagramWidth","topDiagramCoverXPosition","labelCoverWidth","topLabelCoverHeight","node","rect","bridgeFromX","bridgeFromY","bridgeHeight","fretLabelXPosition","drawText","bridgeCoverHeight","i","drawLine","toString","fretsCoverTopHeight","fretsCoverTop","fretsCoverBottomHeight","fretsCoverBottomYPosition","fretsCoverBottom","fretsLabelCoverTop","fretsLabelCoverBottom","fretsLabelCoverSide","getFingerBasePosition","fingerBasePositionX","fingerBasePositionY","barreLayerName","fingersColor","linecap","fingerLayerName","drawCircle","openStringMarkins","mutedStringMarkings","openStringMarkingLayerName","getOpenStringMarkingBaseYPosition","mutedStringMarkingLayerName","getMutedStringMarkingBaseYPosition","stringMarkingCover","moveDiagramToFret","debugMode","printParams","fingerIndex","chordPosition","finger","barreLength","string","fret","actualString","Array","isArray","fretsToAdd","forcePositionAdd","moveToX","moveToY","fretNumber","animate","maxStartFret","error","bridgeTopY","labelsTopY","undefined","isNaN","position","find","getFingerChordPosition","x1","x2","mutedStrings","includes","openStrings","moveOldTitle","drawChordTitle","chordTitleNumber","setTimeout","clear","MainChordWrapper","ButtonContainer","ChordDiagramWrapper","MainChord","diagramWrapper","useRef","chordDiagram","currentChord","setCurrentChord","useEffect","current","innerHTML","drawBaseDiagram","chordModel","chordFingerings","findGuitarChord","fingerings","positions","barre","currentBarre","currentBarreFret","reverse","stringIndex","stringIndices","push","indexOf","filteredFingers","filter","min","chordObject","stringToChord","drawChord","handleMoveChord","direction","ref","Button","parseChords","input","tokens","char","test","type","CHORD","TypeError","tokenizer","ast","walk","token","body","parser","flatMap","Main","App","c","camelCase","pascalCase","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27b89208.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Switch from \"@mui/material/Switch\";\nimport TextField from \"@mui/material/TextField\";\nimport React from \"react\";\nimport { ChordDiagramParams } from \"../ChordDiagram\";\n\nconst Wraper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  padding: 30px;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  gap: 15px;\n`;\n\ntype ConfigurationPanelProps = {\n  diagramConfiguration: ChordDiagramParams;\n  setDiagramConfiguration: (configuration: ChordDiagramParams) => void;\n};\n\nfunction DiagramConfiguration({\n  diagramConfiguration,\n  setDiagramConfiguration,\n}: ConfigurationPanelProps) {\n  const handleNumberChange = (\n    value: number,\n    param: keyof ChordDiagramParams\n  ) => {\n    setDiagramConfiguration({\n      ...diagramConfiguration,\n      [param]: value,\n    });\n  };\n\n  const handleBooleanChange = (\n    value: boolean,\n    param: keyof ChordDiagramParams\n  ) => {\n    setDiagramConfiguration({\n      ...diagramConfiguration,\n      [param]: value,\n    });\n  };\n\n  const handleArrayChange = (\n    value: string,\n    param: keyof ChordDiagramParams\n  ) => {\n    setDiagramConfiguration({\n      ...diagramConfiguration,\n      [param]: value.split(\",\"),\n    });\n  };\n\n  const handleStringChange = (\n    value: string,\n    param: keyof ChordDiagramParams\n  ) => {\n    setDiagramConfiguration({\n      ...diagramConfiguration,\n      [param]: value,\n    });\n  };\n\n  return (\n    <Wraper>\n      <Row>\n        <TextField\n          label=\"Width\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.width}\n          onBlur={(e) => handleNumberChange(parseInt(e.target.value), \"width\")}\n        />\n        <TextField\n          label=\"Height\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.height}\n          onBlur={(e) => handleNumberChange(parseInt(e.target.value), \"height\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"# of Strings\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.numOfStrings}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"numOfStrings\")\n          }\n        />\n        <TextField\n          label=\"# of Frets\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.numOfFrets}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"numOfFrets\")\n          }\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"String Width\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.stringWidth}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"stringWidth\")\n          }\n        />\n        <TextField\n          label=\"Frets Width\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fretsWidth}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"fretsWidth\")\n          }\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Animation Duration\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.animationDuration}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"animationDuration\")\n          }\n        />\n        <TextField\n          label=\"Force Start Position\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.forcePosition}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"forcePosition\")\n          }\n        />\n      </Row>\n      <Row>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={diagramConfiguration.showFretsLabels}\n              onChange={(e) =>\n                handleBooleanChange(e.target.checked, \"showFretsLabels\")\n              }\n            />\n          }\n          label=\"Show Fret Labels\"\n        />\n        <FormControlLabel\n          control={\n            <Switch\n              checked={diagramConfiguration.showBridgeLabel}\n              onChange={(e) =>\n                handleBooleanChange(e.target.checked, \"showBridgeLabel\")\n              }\n            />\n          }\n          label=\"Show Bridge Labels\"\n        />\n      </Row>\n      <Row>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={diagramConfiguration.showFingerLabels}\n              onChange={(e) =>\n                handleBooleanChange(e.target.checked, \"showFingerLabels\")\n              }\n            />\n          }\n          label=\"Show Finger Label\"\n        />\n        <FormControlLabel\n          control={\n            <Switch\n              checked={diagramConfiguration.showOpenStringsLabels}\n              onChange={(e) =>\n                handleBooleanChange(e.target.checked, \"showOpenStringsLabels\")\n              }\n            />\n          }\n          label=\"Show Open Strings Labels\"\n        />\n      </Row>\n      <Row>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={diagramConfiguration.showTuning}\n              onChange={(e) =>\n                handleBooleanChange(e.target.checked, \"showTuning\")\n              }\n            />\n          }\n          label=\"Show Tuning\"\n        />\n        <TextField\n          label=\"Tuning\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.tuning}\n          onBlur={(e) => handleArrayChange(e.target.value, \"tuning\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Default Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.defaultColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"defaultColor\")}\n        />\n        <TextField\n          label=\"Bridge Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.bridgeColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"bridgeColor\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"String Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.stringColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"stringColor\")}\n        />\n        <TextField\n          label=\"Fret Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fretColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"fretColor\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Text Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.textColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"textColor\")}\n        />\n        <TextField\n          label=\"Label Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.labelColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"labelColor\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Background Color\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.backgroundColor}\n          onBlur={(e) => handleStringChange(e.target.value, \"backgroundColor\")}\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Font Family\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fontFamily}\n          onBlur={(e) => handleStringChange(e.target.value, \"fontFamily\")}\n        />\n        <TextField\n          label=\"Font Size\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fontSize}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"fontSize\")\n          }\n        />\n      </Row>\n      <Row>\n        <TextField\n          label=\"Font Style\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fontStyle}\n          onBlur={(e) => handleStringChange(e.target.value, \"fontStyle\")}\n        />\n        <TextField\n          label=\"Font Weight\"\n          variant=\"standard\"\n          defaultValue={diagramConfiguration.fontWeight}\n          onBlur={(e) =>\n            handleNumberChange(parseInt(e.target.value), \"fontWeight\")\n          }\n        />\n      </Row>\n    </Wraper>\n  );\n}\n\nexport default DiagramConfiguration;\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport TextField from \"@mui/material/TextField\";\n\nconst ChordConfigurationWrapper = styled.div`\n  padding: 20px;\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  justify-content: space-between;\n`;\n\ntype ChordConfigurationProps = {\n  index: number;\n  chord: string;\n  onChange: (chord: string, index: number) => void;\n  removeChord: (index: number) => void;\n};\n\nfunction ChordConfiguration(props: ChordConfigurationProps) {\n  const [value, setValue] = useState<string>(props.chord);\n  \n\n  return (\n    <ChordConfigurationWrapper>\n      <TextField\n          label={`Chord ${props.index + 1}`}\n          variant=\"standard\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          onBlur={() => props.onChange(value, props.index)}\n        />\n      {/* <ChordDiagramWrapper\n        id={`chord-diagram-wrapper-${props.index}`}\n        ref={diagramWrapper}\n        debugMode={true}\n      /> */}\n    </ChordConfigurationWrapper>\n  );\n}\n\nexport default ChordConfiguration;\n\n// const StyledSelectWrapper = styled.div`\n//   display: flex;\n//   flex-direction: column;\n// `;\n\n// const StyledSelect = styled.select<{ width: number }>`\n//   width: ${({ width }) => width}px;\n//   padding: 5px;\n// `;\n\n// const StyledButton = styled.button`\n//   background-color: #ffffff;\n//   padding: 2px 7px;\n// `;\n\n// const ChordDiagramWrapper = styled.div<{ debugMode: boolean | undefined }>`\n//   min-width: 100px;\n//   min-height: 120px;\n//   ${({ debugMode }) => (debugMode ? \"border: 1px solid red;\" : null)}\n// `;\n\n// const options = {\n//   // Customizations (all optional, defaults shown)\n//   width: 100, // canvas width\n//   height: 120, // canvas height\n//   circleRadius: 5, // circle radius (width / 20 by default)\n\n//   numStrings: 6, // number of strings (e.g., 4 for bass)\n//   numFrets: 5, // number of frets (e.g., 7 for stretch chords)\n//   showTuning: false, // show tuning keys\n\n//   defaultColor: \"#666\", // default color\n//   // bgColor: '#FFF', // background color\n//   // strokeColor: '#666', // stroke color (overrides defaultColor)\n//   // textColor: '#666', // text color (overrides defaultColor)\n//   // stringColor: '#666', // string color (overrides defaultColor)\n//   // fretColor: '#666', // fret color (overrides defaultColor)\n//   // labelColor: '#666', // label color (overrides defaultColor)\n\n//   fretWidth: 1, // fret width\n//   stringWidth: 1, // string width\n// };\n\n\n// const diagramWrapper = useRef<any>(null);\n\n  // useEffect(() => {\n  //   if (props.note && props.type) {\n  //     diagramWrapper.current.innerHTML = \"\";\n  //     diagramWrapper.current &&\n  //       new ChordBox(`#chord-diagram-wrapper-${props.index}`, options).draw({\n  //         // array of [string, fret, label (optional)]\n  //         chord: Chords[props.note][props.type].chord,\n\n  //         // optional: position marker\n  //         position: Chords[props.note][props.type].position || 0,\n\n  //         // optional: barres for barre chords\n  //         barres: Chords[props.note][props.type].barres || [],\n  //       });\n  //   }\n  // }, [props.note, props.type, props.index]);\n\n  // const handleNoteChange = (e: ChangeEvent<HTMLSelectElement>) => {\n  //   const note = e.target.value;\n  //   let type = props.type;\n  //   if (type && !Chords[props.note][props.type]) {\n  //     type = Object.keys(Chords[props.note])[0];\n  //   }\n  //   props.onChange({ note, type }, props.index);\n  // };\n\n  // const handleTypeChange = (e: ChangeEvent<HTMLSelectElement>) => {\n  //   props.onChange({ note: props.note, type: e.target.value }, props.index);\n  // };\n\n/* <StyledButton onClick={() => props.removeChord(props.index)}>\n        -\n      </StyledButton>\n      {props.index + 1}.\n      <StyledSelectWrapper>\n        Note:\n        <StyledSelect value={props.note || \"\"} width={50} onChange={handleNoteChange}>\n          <option value={\"\"} key={\"null\"}>\n            --\n          </option>\n          {Object.keys(Chords).map((note) => (\n            <option value={note} key={note}>\n              {note}\n            </option>\n          ))}\n        </StyledSelect>\n      </StyledSelectWrapper>\n      <StyledSelectWrapper>\n        Type:\n        <StyledSelect value={props.type || \"\"} width={80} onChange={handleTypeChange}>\n          <option value={\"\"} key={\"null\"}>\n            --\n          </option>\n          {Chords[props.note] &&\n            Object.keys(Chords[props.note]).map((type) => (\n              <option value={type} key={type}>\n                {type}\n              </option>\n            ))}\n        </StyledSelect>\n      </StyledSelectWrapper> */\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport ChordConfiguration from \"./ChordConfiguration\";\n\nconst StyledButton = styled.button`\n  padding: 5px;\n  align-self: flex-end;\n  background-color: #ffffff;\n`;\n\nconst ButtonWrapper = styled.div`\n  position: sticky;\n  bottom: 0;\n  background: linear-gradient(to bottom, transparent, #eeeeee 30%);\n  padding: 30px 20px 20px;\n  display: flex;\n  justify-content: flex-end;\n`;\n\ntype ConfigurationPanelProps = {\n  chords: string[];\n  setChords: (chords: string[]) => void;\n};\n\nfunction ChordsSequence(props: ConfigurationPanelProps) {\n  const handleChange = (chord: string, index: number) => {\n    const newChords = [...props.chords];\n    newChords[index] = chord;\n    props.setChords(newChords);\n  };\n\n  const addChord = () => {\n    props.setChords([...props.chords, \"\"]);\n  };\n\n  const removeChord = (index: number) => {\n    const newChords = [...props.chords];\n    newChords.splice(index, 1);\n    props.setChords(newChords);\n  };\n\n  return (\n    <>\n      {props.chords.map((chord, index) => (\n        <ChordConfiguration\n          key={index}\n          index={index}\n          chord={chord}\n          onChange={handleChange}\n          removeChord={removeChord}\n        />\n      ))}\n      <ButtonWrapper>\n        <StyledButton onClick={addChord}>+Add Chord</StyledButton>\n      </ButtonWrapper>\n    </>\n  );\n}\n\nexport default ChordsSequence;\n","import React from \"react\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport Box from \"@mui/material/Box\";\nimport styled from \"@emotion/styled\";\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nconst StyledPanel = styled.div`\n  background-color: #eeeeee;\n  flex-grow: ${({ hidden }) => (hidden ? 0 : 1)};\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  overflow-y: auto;\n`;\n\nconst StylePanelContentWrapper = styled(Box)`\n  padding: 0;\n  width: 100%;\n`;\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index } = props;\n\n  return (\n    <StyledPanel role=\"tabpanel\" hidden={value !== index}>\n      {value === index && (\n        <StylePanelContentWrapper>{children}</StylePanelContentWrapper>\n      )}\n    </StyledPanel>\n  );\n}\n\nconst StyleTabsWrapper = styled(Box)`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\ntype BasicTabsProps = {\n  tabs: {\n    title: string;\n    content: any;\n  }[];\n};\n\nfunction BasicTabs({ tabs }: BasicTabsProps) {\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event: React.SyntheticEvent, newValue: number) => {\n    setValue(newValue);\n  };\n\n  return (\n    <StyleTabsWrapper>\n      <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n        <Tabs variant=\"fullWidth\" value={value} onChange={handleChange}>\n          {tabs.map((tab, index) => (\n            <Tab label={tab.title} key={index} />\n          ))}\n        </Tabs>\n      </Box>\n      {tabs.map((tab, index) => (\n        <TabPanel value={value} index={index} key={index}>\n          {tab.content}\n        </TabPanel>\n      ))}\n    </StyleTabsWrapper>\n  );\n}\n\nexport default BasicTabs;\n","import styled from \"@emotion/styled\";\nimport React from \"react\";\n\nconst Wraper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  padding: 30px;\n`;\n\ntype ChordsInputProps = {\n    chords: string[];\n    setChords: (chords: string[]) => void;\n};\n\nexport const ChordsInput = (props: ChordsInputProps) => {\n  function handleChange(e: any) {\n      props.setChords(e.target.value === \"\" ? [\"\"] : e.target.value.split(\" \"));\n  }\n\n  return (\n    <Wraper>\n        <input value={props.chords.join(\" \")} onChange={handleChange} />\n    </Wraper>\n  );\n};\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport DiagramConfiguration from \"./DiagramConfiguration\";\nimport ChordsSequence from \"./ChordsSequence\";\nimport BasicTabs from \"./layout/BasicTabs\";\nimport { ChordDiagramParams } from \"../ChordDiagram\";\nimport { ChordsInput } from \"./ChordsInput\";\n\nconst Wrapper = styled.div`\n  height: 100%;\n  width: 30vw;\n`;\n\ntype ConfigurationPanelProps = {\n  chords: string[];\n  setChords: (chords: string[]) => void;\n  diagramConfiguration: ChordDiagramParams;\n  setDiagramConfiguration: (configuration: ChordDiagramParams) => void;\n};\n\nfunction ConfigurationPanel(props: ConfigurationPanelProps) {\n  return (\n    <Wrapper>\n      <BasicTabs\n        tabs={[\n          {\n            title: \"Diagram Configuration\",\n            content: (\n              <DiagramConfiguration\n                diagramConfiguration={props.diagramConfiguration}\n                setDiagramConfiguration={props.setDiagramConfiguration}\n              />\n            ),\n          },\n          {\n            title: \"Chords Sequencer\",\n            content: (\n              <ChordsSequence\n                chords={props.chords}\n                setChords={props.setChords}\n              />\n            ),\n          },\n          {\n            title: \"Chords Text\",\n            content: (\n              <ChordsInput chords={props.chords} setChords={props.setChords}/>\n            ),\n          },\n        ]}\n      />\n    </Wrapper>\n  );\n}\n\nexport default ConfigurationPanel;\n","import { SVG, Svg, G, Gradient } from \"@svgdotjs/svg.js\";\nimport { Chord, Finger } from \"../utils/Chords2\";\n\nexport type ChordDiagramParams = {\n  width: number;\n  height: number;\n  numOfStrings: number;\n  numOfFrets: number;\n  stringWidth: number;\n  fretsWidth: number;\n  showFretsLabels: boolean;\n  showBridgeLabel: boolean;\n  showFingerLabels: boolean;\n  showOpenStringsLabels: boolean;\n  showTuning: boolean;\n  tuning: string[];\n  defaultColor: string;\n  bridgeColor?: string;\n  stringColor?: string;\n  fretColor?: string;\n  textColor?: string;\n  labelColor?: string;\n  fingersColor?: string;\n  fingersLabelColor?: string;\n  backgroundColor: string;\n  fontFamily?: string;\n  fontSize?: number;\n  fontStyle?: string;\n  fontWeight?: string;\n  debugMode?: boolean;\n  animationDuration?: number;\n  forcePosition?: number\n};\n\nexport const defaultParams: ChordDiagramParams = {\n  width: 500,\n  height: 600,\n  numOfStrings: 6,\n  numOfFrets: 5,\n  stringWidth: 1,\n  fretsWidth: 1,\n  showTuning: true,\n  showFretsLabels: false,\n  showBridgeLabel: false,\n  showFingerLabels: false,\n  showOpenStringsLabels: false,\n  tuning: [\"E\", \"A\", \"D\", \"G\", \"B\", \"E\"],\n  defaultColor: \"#666666\",\n  fingersLabelColor: \"#ffffff\",\n  backgroundColor: \"#ffffff\",\n  animationDuration: 500,\n  forcePosition: 0\n};\n\ntype TextAttributes = {\n  family: ChordDiagramParams[\"fontFamily\"];\n  size: ChordDiagramParams[\"fontSize\"];\n  style: ChordDiagramParams[\"fontStyle\"];\n  weight: ChordDiagramParams[\"fontWeight\"];\n  \"text-anchor\": string;\n  opacity: number;\n};\n\nexport class ChordDiagram {\n  private draw: Svg;\n  private params: ChordDiagramParams = defaultParams;\n  private elements: any = {};\n  private calcedParams: any = {};\n  private currentTitle: number = 1;\n\n  constructor(selector: string, params: Partial<ChordDiagramParams> = {}) {\n    this.params = {\n      ...this.params,\n      ...params,\n    };\n    this.draw = SVG()\n      .addTo(selector)\n      .size(this.params.width, this.params.height);\n\n    this.calcedParams.width = this.params.width * 0.75;\n    this.calcedParams.height = this.params.height * 0.75;\n    this.calcedParams.stringSpacing =\n      this.calcedParams.width / this.params.numOfStrings;\n    this.calcedParams.fretSpacing =\n      this.calcedParams.height / (this.params.numOfFrets + 2);\n    this.calcedParams.origin = {\n      x: this.params.width * 0.15 + this.calcedParams.stringSpacing / 2,\n      y: this.params.height * 0.15 + this.calcedParams.fretSpacing,\n    };\n    this.calcedParams.bridgeStrokeWidth = Math.ceil(\n      this.calcedParams.height / 36\n    );\n    this.calcedParams.animationDuration = this.params.animationDuration || 500;\n\n    const fontSize =\n      this.params.fontSize || Math.ceil(this.calcedParams.width / 20);\n    const maxFontSize = Math.max(\n      this.calcedParams.stringSpacing / 2,\n      this.calcedParams.fretSpacing / 2\n    );\n    this.calcedParams.fontSize =\n      fontSize > maxFontSize ? maxFontSize : fontSize;\n  }\n\n  drawText(\n    layer: Svg | G,\n    x: number,\n    y: number,\n    msg: string,\n    color: string | undefined,\n    attrs: Partial<TextAttributes> = {}\n  ) {\n    const textAttrs: any = {\n      family:\n        this.params.fontFamily ||\n        '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n      size: this.calcedParams.fontSize,\n      style: this.params.fontStyle,\n      weight: this.params.fontWeight || \"100\",\n      opacity: 1,\n      ...attrs,\n    };\n\n    const text = layer\n      .text(msg)\n      .stroke(color || this.params.defaultColor)\n      .fill(color || this.params.defaultColor)\n      .font(textAttrs);\n\n    return text.move(x - text.length() / 2, y);\n  }\n\n  drawLine(\n    layer: Svg | G,\n    fromX: number,\n    fromY: number,\n    toX: number,\n    toY: number\n  ) {\n    return layer.line(0, 0, toX - fromX, toY - fromY).move(fromX, fromY);\n  }\n\n  drawCircle(layer: Svg | G, size: number, x: number, y: number) {\n    return layer.circle(size).move(x, y);\n  }\n\n  drawPointAt(x: number, y: number) {\n    this.draw\n      .circle(4, 4)\n      .fill(\"red\")\n      .move(x - 2, y - 2);\n  }\n\n  private printParams() {\n    console.log(\"Calced Params:\");\n    console.table(this.calcedParams);\n    const { strings, frets, layers, ...elements } = this.elements;\n    console.log(\"Strings:\");\n    console.table(strings);\n    console.log(\"Frets:\");\n    console.table(frets);\n    console.log(\"Layers:\");\n    console.table(layers);\n    console.log(\"Other Elements:\");\n    console.table(elements);\n  }\n\n  private debug(points: number[][]) {\n    points.forEach((point, index) => {\n      console.log(`debug point ${index + 1}: ${point[0]}, ${point[1]}`);\n      this.drawPointAt(point[0], point[1]);\n    });\n  }\n\n  drawBaseDiagram() {\n    const baseDiagram = this.draw.group().attr({ id: \"baseDiagram\" });\n\n    //order is important!!\n    this.elements.layers = {\n      baseDiagram: baseDiagram,\n      background: baseDiagram.group().attr({ id: \"background\" }),\n      strings: baseDiagram.group().attr({ id: \"strings\" }),\n      frets: baseDiagram.group().attr({ id: \"frets\" }),\n      fretsCover: baseDiagram.group().attr({ id: \"fretsCover\" }),\n      bridge: baseDiagram.group().attr({ id: \"bridge\" }),\n      bridgeCover: baseDiagram.group().attr({ id: \"bridgeCover\" }),\n      fretLabels: baseDiagram.group().attr({ id: \"fretLabels\" }),\n      fretLabelsCover: baseDiagram.group().attr({ id: \"fretLabelsCover\" }),\n      stringsLabels: baseDiagram.group().attr({ id: \"stringsLabels\" }),\n      barres: baseDiagram.group().attr({ id: \"barres\" }),\n      fingers: baseDiagram.group().attr({ id: \"fingers\" }),\n      stringMarkings: baseDiagram.group().attr({ id: \"stringMarkings\" }),\n      chordTitle1: baseDiagram.group().attr({ id: \"chordTitle1\" }),\n      chordTitle2: baseDiagram.group().attr({ id: \"chordTitle2\" }),\n    };\n\n    const coverTopGradient = this.draw\n      .gradient(\"linear\", (add: Gradient) => {\n        add.stop(0, this.params.backgroundColor);\n        add.stop(0.9, this.params.backgroundColor);\n        add.stop(1, this.params.backgroundColor, 0);\n      })\n      .rotate(90);\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const coverTopGradientDebug = this.draw\n      .gradient(\"linear\", (add: Gradient) => {\n        add.stop(0, \"rgba(255,0,0)\", 0.5);\n        add.stop(0.9, \"rgba(255,0,0)\", 0.5);\n        add.stop(1, \"rgba(0,255,0)\", 0.5);\n      })\n      .rotate(90);\n\n    const coverBottomGradient = this.draw\n      .gradient(\"linear\", (add: Gradient) => {\n        add.stop(0, this.params.backgroundColor, 0);\n        add.stop(0.1, this.params.backgroundColor);\n        add.stop(1, this.params.backgroundColor);\n      })\n      .rotate(90);\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const coverBottomGradientDebug = this.draw\n      .gradient(\"linear\", (add: Gradient) => {\n        add.stop(0, \"rgba(0,255,0)\", 0.5);\n        add.stop(0.1, \"rgba(255,0,0)\", 0.5);\n        add.stop(1, \"rgba(255,0,0)\", 0.5);\n      })\n      .rotate(90);\n\n    const diagramWidth =\n      this.calcedParams.stringSpacing * (this.params.numOfStrings - 1) +\n      this.params.stringWidth;\n    const topDiagramCoverXPosition =\n      this.calcedParams.origin.x - this.params.fretsWidth / 2;\n    const labelCoverWidth =\n      this.calcedParams.origin.x - this.params.fretsWidth / 2;\n    const topLabelCoverHeight =\n      this.calcedParams.origin.y -\n      this.calcedParams.bridgeStrokeWidth / 2 -\n      this.calcedParams.fontSize / 2;\n\n    /****** BACKGROUND ******/\n    this.elements.background = {\n      node: this.elements.layers.background\n        .rect(this.params.width, this.params.height)\n        .stroke({ width: 0 })\n        .fill(this.params.backgroundColor),\n    };\n\n    /****** BRIDGE *****/\n\n    // bridge\n    const bridgeFromX =\n      this.calcedParams.origin.x - this.params.stringWidth / 2;\n    const bridgeFromY =\n      this.calcedParams.origin.y - this.calcedParams.bridgeStrokeWidth;\n    const bridgeHeight = this.calcedParams.origin.y - bridgeFromY;\n    const fretLabelXPosition =\n      this.calcedParams.origin.x -\n      this.calcedParams.fontSize / 1.7 -\n      this.calcedParams.stringSpacing / 4;\n\n    this.elements.bridge = {\n      node: this.elements.layers.bridge\n        .rect(diagramWidth, bridgeHeight)\n        .move(bridgeFromX, bridgeFromY)\n        .stroke({ width: 0 })\n        .fill(this.params.bridgeColor || this.params.defaultColor),\n      label: this.drawText(\n        this.elements.layers.fretLabels,\n        fretLabelXPosition,\n        this.calcedParams.origin.y -\n          this.calcedParams.bridgeStrokeWidth / 2 -\n          this.calcedParams.fontSize * 0.7,\n        \"B\",\n        this.params.textColor,\n        {\n          opacity: this.params.showBridgeLabel ? 1 : 0,\n        }\n      ),\n    };\n\n    // bridge cover\n    const bridgeCoverHeight =\n      this.calcedParams.origin.y - this.calcedParams.bridgeStrokeWidth;\n    this.elements.bridgeCover = {\n      node: this.elements.layers.bridgeCover\n        .rect(diagramWidth, bridgeCoverHeight)\n        .move(topDiagramCoverXPosition, 0)\n        .stroke({ width: 0 })\n        .fill(this.params.backgroundColor),\n    };\n\n    /****** FRETS *****/\n\n    // frets with labels\n    this.elements.frets = [];\n    for (let i = 0; i < 25; i += 1) {\n      const fromY =\n        this.calcedParams.origin.y + this.calcedParams.fretSpacing * i;\n\n      this.elements.frets[i] = {\n        node: this.drawLine(\n          this.elements.layers.frets,\n          this.calcedParams.origin.x,\n          fromY,\n          this.calcedParams.origin.x +\n            this.calcedParams.stringSpacing * (this.params.numOfStrings - 1),\n          fromY\n        ).stroke({\n          width: this.params.fretsWidth,\n          color: this.params.fretColor || this.params.defaultColor,\n        }),\n        label:\n          i === 0\n            ? null\n            : this.drawText(\n                this.elements.layers.fretLabels,\n                fretLabelXPosition,\n                fromY -\n                  this.params.fretsWidth / 2 -\n                  this.calcedParams.fontSize * 0.7,\n                i.toString(),\n                this.params.textColor\n              ),\n      };\n    }\n\n    // frets top cover\n    const fretsCoverTopHeight =\n      this.calcedParams.origin.y - this.params.fretsWidth / 2;\n    this.elements.fretsCoverTop = {\n      node: this.elements.layers.fretsCover\n        .rect(diagramWidth, fretsCoverTopHeight)\n        .move(topDiagramCoverXPosition, 0)\n        .stroke({ width: 0 })\n        .fill(this.params.backgroundColor),\n    };\n\n    // frets bottom cover\n    const fretsCoverBottomHeight =\n      this.params.height - this.calcedParams.height + this.params.fretsWidth;\n    const fretsCoverBottomYPosition =\n      this.calcedParams.origin.y +\n      this.calcedParams.fretSpacing * this.params.numOfFrets +\n      this.params.fretsWidth / 2;\n    this.elements.fretsCoverBottom = {\n      node: this.elements.layers.fretsCover\n        .rect(this.params.width, fretsCoverBottomHeight)\n        .move(0, fretsCoverBottomYPosition)\n        .stroke({ width: 0 })\n        .fill(this.params.backgroundColor),\n    };\n\n    // frets top label cover\n    this.elements.fretsLabelCoverTop = {\n      node: this.elements.layers.fretLabelsCover\n        .rect(labelCoverWidth, topLabelCoverHeight)\n        .stroke({ width: 0 })\n        .fill(coverTopGradient),\n    };\n\n    // frets bottom label cover\n    this.elements.fretsLabelCoverBottom = {\n      node: this.elements.layers.fretLabelsCover\n        .rect(labelCoverWidth, topLabelCoverHeight + this.calcedParams.fontSize)\n        .move(0, fretsCoverBottomYPosition - this.calcedParams.fontSize * 1.3)\n        .stroke({ width: 0 })\n        .fill(coverBottomGradient),\n    };\n\n    // frets side label cover\n    if (!this.params.showFretsLabels) {\n      this.elements.fretsLabelCoverSide = {\n        node: this.elements.layers.fretLabelsCover\n          .rect(labelCoverWidth, topLabelCoverHeight)\n          .move(0, this.calcedParams.origin.y + this.calcedParams.fontSize)\n          .stroke({ width: 0 })\n          .fill(coverBottomGradient),\n      };\n      this.elements.fretsLabelCoverSide = {\n        node: this.elements.layers.fretLabelsCover\n          .rect(labelCoverWidth, this.calcedParams.height)\n          .move(0, this.calcedParams.origin.y + topLabelCoverHeight)\n          .stroke({ width: 0 })\n          .fill(this.params.backgroundColor),\n      };\n    }\n\n    /****** STRINGS *****/\n\n    // strings with labels\n    this.elements.strings = [];\n    for (let i = 0; i < this.params.numOfStrings; i += 1) {\n      this.elements.strings[i] = {\n        node: this.drawLine(\n          this.elements.layers.strings,\n          this.calcedParams.origin.x + this.calcedParams.stringSpacing * i,\n          this.calcedParams.origin.y,\n          this.calcedParams.origin.x + this.calcedParams.stringSpacing * i,\n          this.calcedParams.origin.y +\n            this.calcedParams.fretSpacing * this.params.numOfFrets\n        ).stroke({\n          width: this.params.stringWidth,\n          color: this.params.stringColor || this.params.defaultColor,\n        }),\n        label: this.drawText(\n          this.elements.layers.stringsLabels,\n          this.calcedParams.origin.x + this.calcedParams.stringSpacing * i,\n          this.calcedParams.origin.y +\n            this.calcedParams.fretSpacing * this.params.numOfFrets +\n            10,\n          this.params.tuning[i],\n          this.params.textColor,\n          {\n            opacity: this.params.showTuning ? 1 : 0,\n          }\n        ),\n      };\n    }\n\n    /****** FINGERS *****/\n\n    // fingers with labels\n    this.elements.fingers = [];\n    this.elements.barres = []\n    for (let i = 1; i < 5; i += 1) {\n      const [fingerBasePositionX, fingerBasePositionY] =\n      this.getFingerBasePosition(i);\n\n      const barreLayerName = \"barre\" + i;\n        this.elements.layers[barreLayerName] = this.elements.layers.barres\n        .group()\n        .attr({ id: barreLayerName })\n        .opacity(0);\n      this.elements.barres[i] = {\n        node: this.drawLine(\n          this.elements.layers[barreLayerName],\n          fingerBasePositionX + this.calcedParams.stringSpacing / 4,\n          fingerBasePositionY + this.calcedParams.fretSpacing / 4,\n          fingerBasePositionX + this.calcedParams.stringSpacing / 4,\n          fingerBasePositionY + this.calcedParams.fretSpacing / 4\n        ).stroke({\n          width: this.calcedParams.fretSpacing / 2,\n          color: this.params.fingersColor || this.params.defaultColor,\n          linecap: 'round'\n        }),\n        label: null,\n      };\n\n      const fingerLayerName = \"finger\" + i;\n      this.elements.layers[fingerLayerName] = this.elements.layers.fingers\n        .group()\n        .attr({ id: fingerLayerName })\n        .opacity(0);\n      this.elements.fingers[i] = {\n        node: this.drawCircle(\n          this.elements.layers[fingerLayerName],\n          this.calcedParams.fretSpacing / 2,\n          fingerBasePositionX,\n          fingerBasePositionY\n        ).fill(this.params.fingersColor || this.params.defaultColor),\n        label: this.drawText(\n          this.elements.layers[fingerLayerName],\n          fingerBasePositionX + this.calcedParams.fretSpacing / 3.9,\n          this.calcedParams.origin.y +\n            this.calcedParams.fretSpacing * (i - 1) +\n            this.calcedParams.fretSpacing / 3.2,\n          i.toString(),\n          this.params.fingersLabelColor,\n          {\n            size: this.calcedParams.fretSpacing / 3.4,\n            opacity: this.params.showFingerLabels ? 1 : 0,\n          }\n        ),\n      };\n    }\n\n    // string markings with labels\n    this.elements.openStringMarkins = [];\n    this.elements.mutedStringMarkings = [];\n    for (let i = 1; i <= this.params.numOfStrings; i += 1) {\n      const openStringMarkingLayerName = \"openStringMarking\" + i;\n      this.elements.layers[openStringMarkingLayerName] =\n        this.elements.layers.stringMarkings\n          .group()\n          .attr({ id: openStringMarkingLayerName })\n          .opacity(0);\n      this.elements.openStringMarkins[i] = {\n        node: this.drawCircle(\n          this.elements.layers[openStringMarkingLayerName],\n          this.calcedParams.fretSpacing / 3,\n          this.calcedParams.origin.x +\n            this.calcedParams.stringSpacing * (i - 1) -\n            this.calcedParams.fretSpacing / 6,\n          this.getOpenStringMarkingBaseYPosition()\n        )\n          .stroke(this.params.defaultColor)\n          .fill(this.params.backgroundColor),\n        label: this.drawText(\n          this.elements.layers[openStringMarkingLayerName],\n          this.calcedParams.origin.x +\n            this.calcedParams.stringSpacing * (i - 1),\n          this.calcedParams.origin.y -\n            this.calcedParams.bridgeStrokeWidth -\n            this.calcedParams.fretSpacing * 0.95,\n          this.params.tuning[i - 1],\n          this.params.defaultColor,\n          {\n            size: this.calcedParams.fretSpacing / 5,\n            opacity: this.params.showOpenStringsLabels ? 1 : 0,\n          }\n        ),\n      };\n      const mutedStringMarkingLayerName = \"mutedStringMarking\" + i;\n      this.elements.layers[mutedStringMarkingLayerName] =\n      this.elements.layers.stringMarkings\n          .group()\n          .attr({ id: mutedStringMarkingLayerName })\n          .opacity(0);\n      this.elements.mutedStringMarkings[i] = {\n        node: null,\n        label: this.drawText(\n          this.elements.layers[mutedStringMarkingLayerName],\n          this.calcedParams.origin.x +\n            this.calcedParams.stringSpacing * (i - 1),\n          this.getMutedStringMarkingBaseYPosition(),\n          \"X\",\n          this.params.defaultColor,\n          {\n            size: this.calcedParams.fretSpacing / 3,\n          }\n        ),\n      };\n    }\n\n    //string markings cover\n    this.elements.stringMarkingCover = {\n      node: this.elements.layers.stringMarkings\n        .rect(this.params.width, this.calcedParams.origin.y - this.calcedParams.stringSpacing * 0.75)\n        .stroke({ width: 0 })\n        .fill(this.params.backgroundColor)\n    };\n\n    this.moveDiagramToFret(0);\n\n    this.params.debugMode && this.printParams();\n  }\n\n  getOpenStringMarkingBaseYPosition() {\n    return (\n      this.calcedParams.origin.y -\n      this.calcedParams.bridgeStrokeWidth -\n      this.calcedParams.fretSpacing\n    );\n  }\n\n  getMutedStringMarkingBaseYPosition() {\n    return (\n      this.calcedParams.origin.y -\n      this.calcedParams.bridgeStrokeWidth -\n      this.calcedParams.fretSpacing * 1.05\n    );\n  }\n\n  getFingerBasePosition(fingerIndex: number) {\n    const x =\n      this.calcedParams.origin.x +\n      this.calcedParams.stringSpacing * (this.params.numOfStrings - 0.5);\n    const y =\n      this.calcedParams.origin.y +\n      this.calcedParams.fretSpacing * (fingerIndex - 1) +\n      this.calcedParams.fretSpacing / 4;\n    return [x, y];\n  }\n\n  getFingerChordPosition(chordPosition: number, finger: Finger) {\n    const { string, fret } = finger;\n    \n    const actualString = Array.isArray(string) ? string[0] : string;\n    const fretsToAdd = chordPosition === 0 ? 0 : 1;\n    const forcePositionAdd = this.params.forcePosition || this.params.forcePosition === 0 ? fretsToAdd - this.params.forcePosition! : 0;\n    const moveToX =\n      this.calcedParams.origin.x +\n      (this.params.numOfStrings - actualString - 0.25) *\n        this.calcedParams.stringSpacing;\n    const moveToY =\n      this.calcedParams.origin.y +\n      (fret - chordPosition + fretsToAdd + forcePositionAdd - 0.75) *\n        this.calcedParams.fretSpacing;\n    let barreLength;\n    if (Array.isArray(string) && string[1]) {\n      barreLength = this.calcedParams.stringSpacing * (string[0] - string[1]) + this.calcedParams.stringSpacing / 4\n    }\n    return [moveToX, moveToY, barreLength];\n  }\n\n  moveDiagramToFret(fretNumber: number, animate?: boolean) {\n    const maxStartFret = 25 - this.params.numOfFrets;\n    if (fretNumber > maxStartFret) {\n      console.error(`Max fret allowed as start position is ${maxStartFret}`);\n      return;\n    }\n\n    const bridgeTopY =\n      this.calcedParams.origin.y - this.calcedParams.bridgeStrokeWidth;\n    const labelsTopY =\n      this.calcedParams.origin.y - this.calcedParams.fontSize * 0.9;\n    if (animate) {\n      this.elements.layers.bridge\n        .animate(this.calcedParams.animationDuration)\n        .y(bridgeTopY - this.calcedParams.fretSpacing * fretNumber);\n      this.elements.layers.frets\n        .animate(this.calcedParams.animationDuration)\n        .y(\n          this.calcedParams.origin.y -\n            this.calcedParams.fretSpacing * fretNumber\n        );\n      this.elements.layers.fretLabels\n        .animate(this.calcedParams.animationDuration)\n        .y(labelsTopY - this.calcedParams.fretSpacing * fretNumber);\n    } else {\n      this.elements.layers.bridge.y(\n        bridgeTopY - this.calcedParams.fretSpacing * fretNumber\n      );\n      this.elements.layers.frets.y(\n        this.calcedParams.origin.y - this.calcedParams.fretSpacing * fretNumber\n      );\n      this.elements.layers.fretLabels.y(\n        labelsTopY - this.calcedParams.fretSpacing * fretNumber\n      );\n    }\n  }\n\n  drawChord(chord: Chord, title: string, animate?: boolean) {\n    if (this.params.forcePosition === undefined || isNaN(this.params.forcePosition)) {\n      this.moveDiagramToFret(chord.position === 0 ? chord.position : chord.position - 1, animate);\n    };\n\n    for (let i = 1; i < 5; i++) {\n      const finger = chord.fingers.find((finger: Finger) => finger.index === i);\n      if (finger) {\n        const [x,y, barreLength] = this.getFingerChordPosition(chord.position, finger)\n        if (animate) {\n          this.elements.layers[\"finger\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .move(x,y)\n            .opacity(1);\n            if (barreLength) {\n              this.elements.layers[\"barre\" + i]\n              .animate(this.calcedParams.animationDuration)\n              .move(x + this.calcedParams.stringSpacing / 4, y + this.calcedParams.fretSpacing / 4)\n              .opacity(1);\n              this.elements.barres[i].node\n              .animate(this.calcedParams.animationDuration)\n              .attr({x1: x + barreLength})\n            } else {\n              this.elements.layers[\"barre\" + i]\n              .animate(this.calcedParams.animationDuration)\n              .move(x, y + this.calcedParams.fretSpacing / 4)\n              .opacity(1);\n              this.elements.barres[i].node\n              .animate(this.calcedParams.animationDuration)\n              .attr({x1: x + this.calcedParams.fretSpacing / 4, x2: x + this.calcedParams.fretSpacing / 4})\n            }\n        } else {\n          this.elements.layers[\"finger\" + i]\n            .move(x,y)\n            .opacity(1);\n          if (barreLength) {\n            this.elements.layers[\"barre\" + i]\n            .move(x + this.calcedParams.stringSpacing / 4, y + this.calcedParams.fretSpacing / 4)\n            .opacity(1);\n            this.elements.barres[i].node.attr({x1: x + barreLength})\n          }\n        }\n      } else {\n        const [x, y] = this.getFingerBasePosition(i)\n        if (animate) {\n          this.elements.layers[\"finger\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .move(x,y)\n            .opacity(0);\n            this.elements.layers[\"barre\" + i]\n              .animate(this.calcedParams.animationDuration)\n              .move(x + this.calcedParams.stringSpacing /4 ,y + this.calcedParams.fretSpacing /4 )\n              .opacity(0);\n        } else {\n          this.elements.layers[\"finger\" + i]\n            .move(x,y)\n            .opacity(0);\n            this.elements.layers[\"barre\" + i]\n            .move(x + this.calcedParams.stringSpacing /4 ,y + this.calcedParams.fretSpacing /4 )\n              .opacity(0);\n        }\n      }\n    }\n\n    for (let i = 1; i <= this.params.numOfStrings; i++) {\n      if (chord.mutedStrings.includes(this.params.numOfStrings - i + 1)) {\n        if (animate) {\n          this.elements.layers[\"mutedStringMarking\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .y(\n              this.calcedParams.origin.y -\n                this.calcedParams.bridgeStrokeWidth -\n                this.calcedParams.fretSpacing * 0.53\n            )\n            .opacity(1);\n        } else {\n          this.elements.layers[\"mutedStringMarking\" + i]\n            .y(\n              this.calcedParams.origin.y -\n                this.calcedParams.bridgeStrokeWidth -\n                this.calcedParams.fretSpacing * 0.53\n            )\n            .opacity(1);\n        }\n      } else {\n        if (animate) {\n          this.elements.layers[\"mutedStringMarking\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .y(this.getMutedStringMarkingBaseYPosition())\n            .opacity(0);\n        } else {\n          this.elements.layers[\"mutedStringMarking\" + i]\n            .y(this.getMutedStringMarkingBaseYPosition())\n            .opacity(0);\n        }\n      }\n\n      if (chord.openStrings.includes(this.params.numOfStrings - i + 1)) {\n        if (animate) {\n          this.elements.layers[\"openStringMarking\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .y(\n              this.calcedParams.origin.y -\n                this.calcedParams.bridgeStrokeWidth -\n                this.calcedParams.fretSpacing * 0.5\n            )\n            .opacity(1);\n        } else {\n          this.elements.layers[\"openStringMarking\" + i]\n            .y(\n              this.calcedParams.origin.y -\n                this.calcedParams.bridgeStrokeWidth -\n                this.calcedParams.fretSpacing * 0.5\n            )\n            .opacity(1);\n        }\n      } else {\n        if (animate) {\n          this.elements.layers[\"openStringMarking\" + i]\n            .animate(this.calcedParams.animationDuration)\n            .y(this.getOpenStringMarkingBaseYPosition())\n            .opacity(0);\n        } else {\n          this.elements.layers[\"openStringMarking\" + i]\n            .y(this.getOpenStringMarkingBaseYPosition())\n            .opacity(0);\n        }\n      }\n    }\n\n\n      this.moveOldTitle(this.currentTitle);\n      this.currentTitle = this.currentTitle % 2 + 1;\n      this.drawChordTitle(title, this.currentTitle, animate);\n  }\n\n  moveOldTitle(chordTitleNumber: number, animate?: boolean) {\n    this.elements.layers[\"chordTitle\" + chordTitleNumber].animate(this.calcedParams.animationDuration / 2).x(-this.calcedParams.width / 4).opacity(0);\n    setTimeout(() => {\n      this.elements.layers[\"chordTitle\" + chordTitleNumber].opacity(1).x(0).clear();\n    }, this.calcedParams.animationDuration / 2)\n  }\n\n  drawChordTitle(title: string, chordTitleNumber: number, animate?: boolean) {\n    this.elements.layers[\"chordTitle\" + chordTitleNumber].opacity(1);\n    if (animate) {\n        this.elements[\"chordTitle\" + chordTitleNumber] = this.drawText(\n          this.elements.layers[\"chordTitle\" + chordTitleNumber],\n          this.params.width,\n          this.calcedParams.origin.y / 5,\n          title,\n          this.params.defaultColor,\n          {\n            size: this.calcedParams.fontSize * 3,\n          }\n        )\n          .attr({ opacity: 0 })\n\n        this.elements[\"chordTitle\" + chordTitleNumber]   \n          .animate(this.calcedParams.animationDuration / 2)\n          .x(this.params.width / 2 - this.elements[\"chordTitle\" + chordTitleNumber].length() / 2)\n          .attr({ opacity: 1 });\n      \n    } else {\n      this.elements[\"chordTitle\" + chordTitleNumber] = this.drawText(\n        this.elements.layers[\"chordTitle\" + chordTitleNumber],\n        this.params.width / 2,\n        this.calcedParams.origin.y / 5,\n        title,\n        this.params.defaultColor,\n        {\n          size: this.calcedParams.fontSize * 3,\n        }\n      );\n    }\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { ChordDiagram, ChordDiagramParams, stringToChord } from \"../ChordDiagram\";\nimport Button from \"@mui/material/Button\";\n\nconst MainChordWrapper = styled.div`\n  height: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  bottom: 0;\n  padding: 20px;\n`;\n\nconst ChordDiagramWrapper = styled.div<{ debugMode: boolean | undefined }>`\n  ${({ debugMode }) => (debugMode ? \"border: 1px solid red;\" : null)}\n`;\n\ntype MainChordProps = {\n  diagramConfiguration: ChordDiagramParams;\n  chords: string[];\n};\n\nfunction MainChord(props: MainChordProps) {\n  const diagramWrapper = useRef<HTMLDivElement>(null);\n  const chordDiagram = useRef<ChordDiagram | null>(null);\n  const [currentChord, setCurrentChord] = useState<number>(0);\n\n  const chord = props.chords[currentChord];\n\n  useEffect(() => {\n    if (diagramWrapper.current) {\n      diagramWrapper.current.innerHTML = \"\";\n      chordDiagram.current = new ChordDiagram(\n        \"#main-chord-diagram-wrapper\",\n        props.diagramConfiguration\n      );\n    }\n\n    if (chordDiagram.current) {\n      chordDiagram.current.drawBaseDiagram();\n    }\n  }, [props.diagramConfiguration]);\n\n  useEffect(() => {\n    if (chordDiagram.current !== null) {\n      const chordModel = stringToChord(chord);\n      if (chordModel) {\n        chordDiagram.current.drawChord(chordModel, chord, true);\n      } else {\n        // TODO - Show the user that the chord is invalid\n      }\n    }\n\n  }, [chord]);\n\n  const handleMoveChord = (direction: number) => {\n    if (currentChord + direction < 0) {\n      setCurrentChord(props.chords.length - 1);\n    } else if (currentChord + direction === props.chords.length) {\n      setCurrentChord(0);\n    } else {\n      setCurrentChord(currentChord + direction);\n    }\n  };\n\n  return (\n    <MainChordWrapper>\n      <ChordDiagramWrapper\n        id={\"main-chord-diagram-wrapper\"}\n        ref={diagramWrapper}\n        debugMode={props.diagramConfiguration.debugMode}\n      />\n      <ButtonContainer>\n        <Button onClick={() => handleMoveChord(-1)}>\n          &lt;-- Previous Chord\n        </Button>\n        <Button onClick={() => handleMoveChord(1)}>Next Chord --&gt;</Button>\n      </ButtonContainer>\n    </MainChordWrapper>\n  );\n}\n\nexport default MainChord;\n","//@ts-ignore;\nimport { findGuitarChord } from \"chord-fingering\";\nimport { Finger, Chord } from \"../utils/Chords2\";\n\ntype Position = {\n  fret: number;\n  note: string;\n  stringIndex: number;\n  stringNote: string;\n};\n\ntype Barre = {\n    fret: number,\n    stringIndices: [number, number]\n}\n\ntype Fingering = {\n  positions: Position[],\n  barre: Barre\n}\n\n\nexport function stringToChord(chord: string): Chord | null {\n  const chordFingerings = findGuitarChord(chord);\n  if (!chordFingerings) return null;\n\n  const { positions, barre }: Fingering = chordFingerings.fingerings[0];\n  const openStrings: number[] = [];\n  const mutedStrings: number[] = [1, 2, 3, 4, 5, 6];\n  const fingers: Finger[] = [];\n  let currentBarre: [number, number] | null = null\n  let currentBarreFret: number | null = null; \n\n  console.log(chordFingerings.fingerings[0])\n\n  positions.reverse().forEach((position: Position) => {\n    const { fret, stringIndex } = position;\n    \n    let string: Finger[\"string\"] = 6 - stringIndex;\n    if (barre && barre.fret === fret && !currentBarre) {\n      currentBarreFret = barre.fret;\n      currentBarre = [6 - barre.stringIndices[0], 6 - barre.stringIndices[barre.stringIndices.length - 1]];\n      string = currentBarre;\n    }\n\n    if (fret === 0) {\n      openStrings.push(stringIndex);\n    } else {\n      fingers.push({\n        index: 0,\n        string: string,\n        fret,\n      });\n    }\n\n    if (mutedStrings.includes(stringIndex)) {\n      mutedStrings.splice(mutedStrings.indexOf(stringIndex), 1);\n    }\n  });\n\n  const filteredFingers: Finger[] = fingers.filter(finger => {\n    return !currentBarre || currentBarreFret !== finger.fret || \n    (Array.isArray(finger.string) && currentBarreFret === finger.fret && currentBarre[0] === finger.string[0]);\n  }).map((finger, index) => ({...finger, index: index + 1}))\n\n  const position = Math.min(...fingers.map((finger) => finger.fret));\n\n  const chordObject: Chord = {\n    fingers: filteredFingers,\n    position: position === 1 ? 0 : position,\n    mutedStrings,\n    openStrings,\n  };\n\n  console.log(chordObject);\n  return chordObject;\n}\n","import {tokenizer} from './tokenizer';\nimport {parser} from './parser';\n\n// const chordsfreeText = `\n// Let it be\n// 4X4\n// Opening\n// ||: C G | 2(Am) Fmaj7 F6  |\n// |  C  G | 2(F) Em Dm 4(C) ||\n\n// Verse\n// ||: C G  | Am Fmaj7 | C G | F . Em Dm C . . . :||\n\n// Chorus\n// ||: Am G | F    C   | C G | F . Em Dm C . . . :||\n// `;\n\n// const chords = `|: C G | Am Am Fmaj7 F6  |  C  G | F F Em Dm C C C C :|`;\n\n\nexport const parseChords = (input: string) => {\n    const tokens = tokenizer(input);\n    const ast = parser(tokens);\n    \n    // currently only supports bars\n    console.log(ast);\n    // @ts-ignore\n    return ast.body.filter(node => node.type === 'bar').flatMap(node => node.chords.map(chord => chord.value));\n}\n","// @ts-nocheck\nexport function tokenizer(input) {\n    let current = 0;\n    let tokens = [];\n  \n    // We start by creating a `while` loop where we are setting up our `current`\n    // variable to be incremented as much as we want `inside` the loop.\n    //\n    // We do this because we may want to increment `current` many times within a\n    // single loop because our tokens can be any length.\n    while (current < input.length) {\n      // We're also going to store the `current` character in the `input`.\n      let char = input[current];\n  \n      if (char === \"|\") {\n        if (input[current + 1] === \"|\") {\n          tokens.push({\n            type: \"double barline\",\n            value: \"||\",\n          });\n          current++;\n        } else {\n          tokens.push({\n            type: \"barline\",\n            value: \"|\",\n          });\n        }\n  \n        current++;\n        continue;\n      }\n  \n      // we're now going to check for whitespace. This is interesting\n      // because we care that whitespace exists to separate characters, but it\n      // isn't actually important for us to store as a token. We would only throw\n      // it out later.\n      //\n      // So here we're just going to test for existence and if it does exist we're\n      // going to just `continue` on.\n      let WHITESPACE = /\\s/;\n      if (WHITESPACE.test(char)) {\n        current++;\n        continue;\n      }\n  \n      if (char === \":\") {\n        // TODO - take care of this later\n        current++;\n        continue;\n      }\n  \n      if (char === \".\") {\n        // Consider putting here the chord itself\n        tokens.push({\n          type: \"dot\",\n          value: \".\",\n        });\n      }\n  \n      let CHORD = /[a-zA-Z0-9#-+()]/i;\n      if (CHORD.test(char)) {\n        let value = \"\";\n  \n        // Again we're just going to loop through all the letters pushing them to\n        // a value.\n        while (CHORD.test(char)) {\n          value += char;\n          char = input[++current];\n        }\n  \n        tokens.push({ type: \"chord\", value });\n  \n        continue;\n      }\n  \n      // Finally if we have not matched a character by now, we're going to throw\n      // an error and completely exit.\n      throw new TypeError(\"I dont know what this character is: \" + char);\n    }\n  \n    // Then at the end of our `tokenizer` we simply return the tokens array.\n    return tokens;\n  }\n  ","// @ts-nocheck\nexport function parser(tokens: any) {\n    let current = 0;\n  \n    function walk() {\n      let token = tokens[current];\n  \n      if (token.type === \"chord\") {\n        current++;\n  \n        return {\n          type: \"chord\",\n          value: token.value,\n        };\n      }\n  \n      if (token.type === \"double barline\") {\n        let node = {\n          type: \"Section\",\n          content: [],\n        };\n  \n        token = tokens[++current];\n  \n        while (token.type !== \"double barline\") {\n          node.content.push(walk());\n          token = tokens[current];\n        }\n  \n        // Finally we will increment `current` one last time to skip the closing barline\n        current++;\n  \n        // And return the node.\n        return node;\n      }\n  \n      if (token.type === \"barline\") {\n        token = tokens[++current];\n  \n        let node = {\n          type: \"bar\",\n          chords: [],\n        };\n  \n        while (token.type !== \"barline\") {\n          node.chords.push(walk());\n          token = tokens[current];\n        }\n  \n        // In case we're in the end, pass on the last barline\n        if (!tokens[current + 1]) {\n          ++current;\n        }\n  \n        return node;\n      }\n  \n      throw new TypeError(`Couldn'd recognize token type \"${token.type}\"\"`);\n    }\n  \n    // Now, we're going to create our AST which will have a root which is a\n    // `Chart` node.\n    let ast = {\n      type: \"Chart\",\n      body: [],\n    };\n  \n    while (current < tokens.length) {\n      ast.body.push(walk());\n    }\n  \n    // At the end of our parser we'll return the AST.\n    return ast;\n  }\n  ","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport ConfigurationPanel from \"./components/ConfigurationPanel\";\nimport MainChord from \"./components/MainChord\";\nimport { defaultParams, ChordDiagramParams } from \"./ChordDiagram\";\nimport { parseChords } from \"./parser/parseChords\";\nimport camelCase from \"camelcase\";\n\nconst Main = styled.div`\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n`;\n\nfunction App() {\n  const [chords, setChords] = useState<string[]>([\"C\", \"Dmin\", \"A7b9\"]);\n\n  try {\n    // TODO - use this\n    const chordsFromText = parseChords(\"|\" + chords.join(\" \") + \"|\");\n    chordsFromText.map((c: string) => camelCase(c, { pascalCase: true }));\n  } catch (error: any) {\n    console.error(`can't parse chords`);\n  }\n  const [diagramConfiguration, setDiagramConfiguration] =\n    useState<ChordDiagramParams>({ ...defaultParams, debugMode: false });\n\n  return (\n    <Main>\n      <ConfigurationPanel\n        chords={chords}\n        setChords={setChords}\n        diagramConfiguration={diagramConfiguration}\n        setDiagramConfiguration={setDiagramConfiguration}\n      />\n      <MainChord\n        diagramConfiguration={diagramConfiguration}\n        chords={chords}\n      />\n    </Main>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"@fontsource/roboto/300.css\";\nimport \"@fontsource/roboto/400.css\";\nimport \"@fontsource/roboto/500.css\";\nimport \"@fontsource/roboto/700.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}