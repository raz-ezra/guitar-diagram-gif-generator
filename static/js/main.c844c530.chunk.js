(this["webpackJsonpguitar-diagram-gif-generator"]=this["webpackJsonpguitar-diagram-gif-generator"]||[]).push([[0],{178:function(t,e,r){},198:function(t,e){},256:function(t,e,r){"use strict";r.r(e);var a,n,i=r(0),s=r.n(i),o=r(49),c=r.n(o),l=(r(178),r(11)),d=r(6),h=r(19),u=r(21),g=r(3),m=r(313),f=r(315),p=r(309),b=r(1),j=u.a.div(a||(a=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  padding: 30px;\n"]))),v=u.a.div(n||(n=Object(h.a)(["\n  display: flex;\n  gap: 15px;\n"])));var C=function(t){var e=t.diagramConfiguration,r=t.setDiagramConfiguration,a=function(t,a){r(Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},a,t)))},n=function(t,a){r(Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},a,t)))},i=function(t,a){r(Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},a,t)))};return Object(b.jsxs)(j,{children:[Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Width",variant:"standard",defaultValue:e.width,onBlur:function(t){return a(parseInt(t.target.value),"width")}}),Object(b.jsx)(p.a,{label:"Height",variant:"standard",defaultValue:e.height,onBlur:function(t){return a(parseInt(t.target.value),"height")}}),Object(b.jsx)(p.a,{label:"# of Strings",variant:"standard",defaultValue:e.numOfStrings,onBlur:function(t){return a(parseInt(t.target.value),"numOfStrings")}}),Object(b.jsx)(p.a,{label:"# of Frets",variant:"standard",defaultValue:e.numOfFrets,onBlur:function(t){return a(parseInt(t.target.value),"numOfFrets")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"String Width",variant:"standard",defaultValue:e.stringWidth,onBlur:function(t){return a(parseInt(t.target.value),"stringWidth")}}),Object(b.jsx)(p.a,{label:"Frets Width",variant:"standard",defaultValue:e.fretsWidth,onBlur:function(t){return a(parseInt(t.target.value),"fretsWidth")}}),Object(b.jsx)(p.a,{label:"Start Position",variant:"standard",defaultValue:e.forcePosition||0===e.forcePosition?e.forcePosition:"",onBlur:function(t){return a(parseInt(t.target.value),"forcePosition")}}),Object(b.jsx)(p.a,{label:"Anim. Duration",variant:"standard",defaultValue:e.animationDuration,onBlur:function(t){return a(parseInt(t.target.value),"animationDuration")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.showFretsLabels,onChange:function(t){return n(t.target.checked,"showFretsLabels")}}),label:"Show Fret Labels"}),Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.showBridgeLabel,onChange:function(t){return n(t.target.checked,"showBridgeLabel")}}),label:"Show Bridge Labels"})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.showFingerLabels,onChange:function(t){return n(t.target.checked,"showFingerLabels")}}),label:"Show Finger Label"}),Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.showOpenStringsLabels,onChange:function(t){return n(t.target.checked,"showOpenStringsLabels")}}),label:"Show Open Strings Labels"})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.playChord,onChange:function(t){return n(t.target.checked,"playChord")}}),label:"Play Chord"}),Object(b.jsx)(m.a,{control:Object(b.jsx)(f.a,{checked:e.showTuning,onChange:function(t){return n(t.target.checked,"showTuning")}}),label:"Show Tuning"})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Tuning",variant:"standard",defaultValue:e.tuning,onBlur:function(t){return a=t.target.value,n="tuning",void r(Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},n,a.split(","))));var a,n}}),Object(b.jsx)(p.a,{label:"Default Color",variant:"standard",defaultValue:e.defaultColor,onBlur:function(t){return i(t.target.value,"defaultColor")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"String Color",variant:"standard",defaultValue:e.stringColor,onBlur:function(t){return i(t.target.value,"stringColor")}}),Object(b.jsx)(p.a,{label:"Fret Color",variant:"standard",defaultValue:e.fretColor,onBlur:function(t){return i(t.target.value,"fretColor")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Text Color",variant:"standard",defaultValue:e.textColor,onBlur:function(t){return i(t.target.value,"textColor")}}),Object(b.jsx)(p.a,{label:"Label Color",variant:"standard",defaultValue:e.labelColor,onBlur:function(t){return i(t.target.value,"labelColor")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Background Color",variant:"standard",defaultValue:e.backgroundColor,onBlur:function(t){return i(t.target.value,"backgroundColor")}}),Object(b.jsx)(p.a,{label:"Bridge Color",variant:"standard",defaultValue:e.bridgeColor,onBlur:function(t){return i(t.target.value,"bridgeColor")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Font Family",variant:"standard",defaultValue:e.fontFamily,onBlur:function(t){return i(t.target.value,"fontFamily")}}),Object(b.jsx)(p.a,{label:"Font Size",variant:"standard",defaultValue:e.fontSize,onBlur:function(t){return a(parseInt(t.target.value),"fontSize")}})]}),Object(b.jsxs)(v,{children:[Object(b.jsx)(p.a,{label:"Font Style",variant:"standard",defaultValue:e.fontStyle,onBlur:function(t){return i(t.target.value,"fontStyle")}}),Object(b.jsx)(p.a,{label:"Font Weight",variant:"standard",defaultValue:e.fontWeight,onBlur:function(t){return a(parseInt(t.target.value),"fontWeight")}})]})]})},y=r(20),x=r(158),P=r(14),O=r(17),S=r(155),w=r(86),k=r(152),T=function(t,e){var r=Array.isArray(t.string)?t.string[0]:t.string,a=Array.isArray(e.string)?e.string[0]:e.string;return t.fret===e.fret?a-r:t.fret-e.fret},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{title:t,fingers:[],startFret:0,mutedStrings:[],openStrings:[]}};var L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{string:t,title:t,availablePositions:[1],isLastPositionCustom:!0,selectedPosition:1,chords:[F(t)]}};var B=function(t){var e=t.title,r="";if((1!==t.selectedPosition||t.isLastPositionCustom&&1===t.availablePositions.length&&t.chords[0].fingers.length>0)&&(r+="p"+t.selectedPosition),t.isLastPositionCustom&&t.selectedPosition===t.availablePositions.length){var a=t.chords[t.selectedPosition-1];a.fingers.forEach((function(t){var e="".concat(""!==r?",":"","f").concat(t.index);e+=t.fret,e+=Array.isArray(t.string)?""+t.string[0]+t.string[1]:t.string,r+=e})),a.mutedStrings.length>0&&(r+="".concat(""!==r?",":"","m").concat(a.mutedStrings.join("")))}return""===r?e:"".concat(e,":").concat(r)};function D(t){var e=function(t){if(-1!==t.indexOf(":")){var e=t.split(":"),r=Object(d.a)(e,2),a=r[0],n={selectedPosition:0,chord:null},i=r[1].split(","),s=Object(w.a)(i),o=s[0],c=s.slice(1);if(n.selectedPosition=parseInt(o[1]),c.length>0){var h=[],u=[6,5,4,3,2,1],g=[],m=0;c.forEach((function(t){if("f"===t[0]){var e=parseInt(t[2]);(0===m||0!==e&&m>e)&&(m=e);var r=parseInt(t[3]);u.splice(u.indexOf(r),1),h.push({index:parseInt(t[1]),fret:e,string:5===t.length?[r,parseInt(t[4])]:r})}else t.split("").forEach((function(t){var e=parseInt(t);u.splice(u.indexOf(e),1),"m"!==t&&g.push(e)}))})),n.chord={title:a,fingers:h,openStrings:u,mutedStrings:g,startFret:m}}return Object(l.a)({chordTitle:a},n)}return{chordTitle:t,selectedPosition:0,chord:null}}(t),r=e.chordTitle,a=e.selectedPosition,n=e.chord,i=Object(k.findGuitarChord)(r);if(!i)return L(r);var s=i.fingerings.map((function(t,e){return e+1})),o=a||1,c=i.fingerings.map((function(t){return function(t,e){if(!e)return F(t);var r=e.positions,a=e.barre,n=[],i=[1,2,3,4,5,6],s=[],o=null,c=null,d=0;return r.reverse().forEach((function(t){var e=t.fret,r=t.stringIndex;(0===d||0!==e&&d>e)&&(d=e);var l=6-r;a&&a.fret===e&&!o&&(c=a.fret,l=o=[6-a.stringIndices[0],6-a.stringIndices[a.stringIndices.length-1]]),0===e?n.push(6-r):s.push({index:0,string:l,fret:e}),i.includes(6-r)&&i.splice(i.indexOf(6-r),1)})),{title:t,fingers:s.filter((function(t){return!o||c!==t.fret||Array.isArray(t.string)&&c===t.fret&&o[0]===t.string[0]})).sort(T).map((function(t,e){return Object(l.a)(Object(l.a)({},t),{},{index:e+1})})),startFret:1e3===d?1:d,mutedStrings:i,openStrings:n}}(r,t)}));return{string:t,title:r,availablePositions:n?[].concat(Object(y.a)(s),[s.length+1]):s,isLastPositionCustom:!!n,selectedPosition:n?s.length+1:o,chords:n?[].concat(Object(y.a)(c),[n]):c}}function I(t){return t.map((function(t){return D(t)}))}var M,E,W,A,z,q,V,N,Y,R,G,H=["strings","frets","layers"],U={width:500,height:600,numOfStrings:6,numOfFrets:5,stringWidth:1,fretsWidth:1,showTuning:!0,showFretsLabels:!1,showBridgeLabel:!1,showFingerLabels:!0,showOpenStringsLabels:!1,tuning:["E","A","D","G","B","E"],defaultColor:"#666666",fingersLabelColor:"#ffffff",backgroundColor:"#ffffff",animationDuration:1e3,timeBetweenChords:2e3,playChord:!0},J=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(P.a)(this,t),this.draw=void 0,this.params=U,this.elements={},this.calcedParams={},this.currentTitle=1,this.chordSequence=[],this.currentChord=null,this.playTimeouts=[],this.isPlaying=!1,this.params=Object(l.a)(Object(l.a)({},this.params),r),this.draw=Object(S.a)().addTo(e).size(this.params.width,this.params.height),this.calcedParams.width=.75*this.params.width,this.calcedParams.height=.75*this.params.height,this.calcedParams.stringSpacing=this.calcedParams.width/this.params.numOfStrings,this.calcedParams.fretSpacing=this.calcedParams.height/(this.params.numOfFrets+2),this.calcedParams.origin={x:.15*this.params.width+this.calcedParams.stringSpacing/2,y:.15*this.params.height+this.calcedParams.fretSpacing},this.calcedParams.bridgeStrokeWidth=Math.ceil(this.calcedParams.height/36),this.calcedParams.animationDuration=this.params.animationDuration||1e3,this.calcedParams.timeBetweenChords=this.params.timeBetweenChords||2e3;var a=this.params.fontSize||Math.ceil(this.calcedParams.width/20),n=Math.max(this.calcedParams.stringSpacing/2,this.calcedParams.fretSpacing/2);this.calcedParams.fontSize=a>n?n:a}return Object(O.a)(t,[{key:"getChords",value:function(){return this.chordSequence}},{key:"setChords",value:function(t){this.chordSequence=t}},{key:"getCurrentChord",value:function(){return this.currentChord}},{key:"moveToChordInSequence",value:function(t,e){var r=this;this.currentChord=t;var a=t||0===t?this.chordSequence[t]:null;return this.drawChord(null!==a&&void 0!==a?a:F(),e),a&&this.params.playChord&&this.playTimeouts.push(setTimeout((function(){[0,1,2,3,4,5].forEach((function(t){r.playTimeouts.push(setTimeout((function(){a.mutedStrings.includes(6-t)||r.elements.strings[t].node.animate(r.calcedParams.animationDuration/4).stroke({width:4*r.params.stringWidth})}),50*t)),r.playTimeouts.push(setTimeout((function(){r.elements.strings[t].node.animate(r.calcedParams.animationDuration/4).stroke({width:r.params.stringWidth})}),50*t+r.calcedParams.animationDuration/4))}))}),this.calcedParams.animationDuration)),this.currentChord}},{key:"playSequence",value:function(){var t=this,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;this.isPlaying=!0,this.moveToChordInSequence(null,e),r&&r(null),this.chordSequence.forEach((function(a,n){t.playTimeouts.push(setTimeout((function(){var a=t.moveToChordInSequence(n,e);r&&r(a)}),t.calcedParams.timeBetweenChords*n+t.calcedParams.animationDuration))})),this.playTimeouts.push(setTimeout((function(){t.moveToChordInSequence(null,e),r&&r(null),t.playTimeouts.push(setTimeout((function(){t.isPlaying=!1,a&&a()}),t.calcedParams.animationDuration))}),this.calcedParams.timeBetweenChords*this.chordSequence.length+this.calcedParams.animationDuration))}},{key:"stopSequence",value:function(t,e){this.isPlaying=!1,this.playTimeouts.forEach((function(t){return clearTimeout(t)})),this.moveToChordInSequence(null,t),e&&e(null)}},{key:"moveToNextChord",value:function(t){return this.currentChord||0===this.currentChord?!this.currentChord&&0!==this.currentChord||this.currentChord+1!==this.chordSequence.length?this.currentChord=this.currentChord+1:this.currentChord=null:this.currentChord=0,this.moveToChordInSequence(this.currentChord,t),this.currentChord}},{key:"moveToPreviousChord",value:function(t){return this.currentChord||0===this.currentChord?(this.currentChord||0===this.currentChord)&&this.currentChord-1<0?this.currentChord=null:this.currentChord=this.currentChord-1:this.currentChord=this.chordSequence.length-1,this.moveToChordInSequence(this.currentChord,t),this.currentChord}},{key:"drawText",value:function(t,e,r,a,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=Object(l.a)({family:this.params.fontFamily||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',size:this.calcedParams.fontSize,style:this.params.fontStyle,weight:this.params.fontWeight||"100",opacity:1},i),o=t.text(a).stroke(n||this.params.defaultColor).fill(n||this.params.defaultColor).font(s);return o.move(e-o.length()/2,r)}},{key:"drawLine",value:function(t,e,r,a,n){return t.line(0,0,a-e,n-r).move(e,r).stroke({linecap:"round"})}},{key:"drawCircle",value:function(t,e,r,a){return t.circle(e).move(r,a)}},{key:"drawPointAt",value:function(t,e){this.draw.circle(4,4).fill("red").move(t-2,e-2)}},{key:"printParams",value:function(){console.log("Calced Params:"),console.table(this.calcedParams);var t=this.elements,e=t.strings,r=t.frets,a=t.layers,n=Object(x.a)(t,H);console.log("Strings:"),console.table(e),console.log("Frets:"),console.table(r),console.log("Layers:"),console.table(a),console.log("Other Elements:"),console.table(n)}},{key:"debug",value:function(t){var e=this;t.forEach((function(t,r){console.log("debug point ".concat(r+1,": ").concat(t[0],", ").concat(t[1])),e.drawPointAt(t[0],t[1])}))}},{key:"drawBaseDiagram",value:function(){var t=this,e=this.draw.group().attr({id:"baseDiagram"});this.elements.layers={baseDiagram:e,background:e.group().attr({id:"background"}),strings:e.group().attr({id:"strings"}),frets:e.group().attr({id:"frets"}),fretsCover:e.group().attr({id:"fretsCover"}),bridge:e.group().attr({id:"bridge"}),bridgeCover:e.group().attr({id:"bridgeCover"}),fretLabels:e.group().attr({id:"fretLabels"}),fretLabelsCover:e.group().attr({id:"fretLabelsCover"}),stringsLabels:e.group().attr({id:"stringsLabels"}),barres:e.group().attr({id:"barres"}),fingers:e.group().attr({id:"fingers"}),stringMarkings:e.group().attr({id:"stringMarkings"}),chordTitle1:e.group().attr({id:"chordTitle1"}),chordTitle2:e.group().attr({id:"chordTitle2"})};var r=this.draw.gradient("linear",(function(e){e.stop(0,t.params.backgroundColor),e.stop(.9,t.params.backgroundColor),e.stop(1,t.params.backgroundColor,0)})).rotate(90),a=(this.draw.gradient("linear",(function(t){t.stop(0,"rgba(255,0,0)",.5),t.stop(.9,"rgba(255,0,0)",.5),t.stop(1,"rgba(0,255,0)",.5)})).rotate(90),this.draw.gradient("linear",(function(e){e.stop(0,t.params.backgroundColor,0),e.stop(.1,t.params.backgroundColor),e.stop(1,t.params.backgroundColor)})).rotate(90)),n=(this.draw.gradient("linear",(function(t){t.stop(0,"rgba(0,255,0)",.5),t.stop(.1,"rgba(255,0,0)",.5),t.stop(1,"rgba(255,0,0)",.5)})).rotate(90),this.calcedParams.stringSpacing*(this.params.numOfStrings-1)+this.params.stringWidth),i=this.calcedParams.origin.x-this.params.fretsWidth/2,s=this.calcedParams.origin.x-2*this.params.fretsWidth,o=this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth/2-this.calcedParams.fontSize/2;this.elements.background={node:this.elements.layers.background.rect(this.params.width,this.params.height).stroke({width:0}).fill(this.params.backgroundColor)};var c=this.calcedParams.origin.x-this.params.stringWidth/2,l=this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth,h=this.calcedParams.origin.y-l,u=this.calcedParams.origin.x-this.calcedParams.fontSize/1.7-this.calcedParams.stringSpacing/4;this.elements.bridge={node:this.elements.layers.bridge.rect(n,h).move(c,l).stroke({width:0}).fill(this.params.bridgeColor||this.params.defaultColor),label:this.drawText(this.elements.layers.fretLabels,u,this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth/2-.7*this.calcedParams.fontSize,"B",this.params.textColor,{opacity:this.params.showBridgeLabel?1:0})};var g=this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth;this.elements.bridgeCover={node:this.elements.layers.bridgeCover.rect(n,g).move(i,0).stroke({width:0}).fill(this.params.backgroundColor)},this.elements.frets=[];for(var m=0;m<25;m+=1){var f=this.calcedParams.origin.y+this.calcedParams.fretSpacing*m;this.elements.frets[m]={node:this.drawLine(this.elements.layers.frets,this.calcedParams.origin.x,f,this.calcedParams.origin.x+this.calcedParams.stringSpacing*(this.params.numOfStrings-1),f).stroke({width:this.params.fretsWidth,color:this.params.fretColor||this.params.defaultColor}),label:0===m?null:this.drawText(this.elements.layers.fretLabels,u,f-this.calcedParams.fretSpacing/2-.75*this.calcedParams.fontSize,m.toString(),this.params.textColor,{opacity:1!==m||this.params.showFretsLabels?1:0})}}var p=this.calcedParams.origin.y-this.params.fretsWidth/2;this.elements.fretsCoverTop={node:this.elements.layers.fretsCover.rect(n,p).move(i,0).stroke({width:0}).fill(this.params.backgroundColor)};var b=this.params.height-this.calcedParams.height+this.params.fretsWidth,j=this.calcedParams.origin.y+this.calcedParams.fretSpacing*this.params.numOfFrets+this.params.fretsWidth/2;this.elements.fretsCoverBottom={node:this.elements.layers.fretsCover.rect(this.params.width,b).move(0,j).stroke({width:0}).fill(this.params.backgroundColor)},this.elements.fretsLabelCoverTop={node:this.elements.layers.fretLabelsCover.rect(s,o+this.calcedParams.fontSize/2.5).stroke({width:0}).fill(r)},this.elements.fretsLabelCoverBottom={node:this.elements.layers.fretLabelsCover.rect(s,o+this.calcedParams.fontSize).move(0,j-1.3*this.calcedParams.fontSize).stroke({width:0}).fill(a)},this.params.showFretsLabels||(this.elements.fretsLabelCoverSide={node:this.elements.layers.fretLabelsCover.rect(s,o).move(0,this.calcedParams.origin.y+2*this.calcedParams.fontSize).stroke({width:0}).fill(a)},this.elements.fretsLabelCoverSide={node:this.elements.layers.fretLabelsCover.rect(s,this.calcedParams.height).move(0,this.calcedParams.origin.y+o).stroke({width:0}).fill(this.params.backgroundColor)}),this.elements.strings=[];for(var v=0;v<this.params.numOfStrings;v+=1)this.elements.strings[v]={node:this.drawLine(this.elements.layers.strings,this.calcedParams.origin.x+this.calcedParams.stringSpacing*v,this.calcedParams.origin.y,this.calcedParams.origin.x+this.calcedParams.stringSpacing*v,this.calcedParams.origin.y+this.calcedParams.fretSpacing*this.params.numOfFrets).stroke({width:this.params.stringWidth,color:this.params.stringColor||this.params.defaultColor}),label:this.drawText(this.elements.layers.stringsLabels,this.calcedParams.origin.x+this.calcedParams.stringSpacing*v,this.calcedParams.origin.y+this.calcedParams.fretSpacing*this.params.numOfFrets+10,this.params.tuning[v],this.params.textColor,{opacity:this.params.showTuning?1:0})};this.elements.fingers=[],this.elements.barres=[];for(var C=1;C<5;C+=1){var y=this.getFingerBasePosition(C),x=Object(d.a)(y,2),P=x[0],O=x[1],S="barre"+C;this.elements.layers[S]=this.elements.layers.barres.group().attr({id:S}).opacity(0),this.elements.barres[C]={node:this.drawLine(this.elements.layers[S],P+this.calcedParams.stringSpacing/4,O+this.calcedParams.fretSpacing/4,P+this.calcedParams.stringSpacing/4,O+this.calcedParams.fretSpacing/4).stroke({width:this.calcedParams.fretSpacing/2,color:this.params.fingersColor||this.params.defaultColor}),label:null};var w="finger"+C;this.elements.layers[w]=this.elements.layers.fingers.group().attr({id:w}).opacity(0),this.elements.fingers[C]={node:this.drawCircle(this.elements.layers[w],this.calcedParams.fretSpacing/2,P,O).fill(this.params.fingersColor||this.params.defaultColor),label:this.drawText(this.elements.layers[w],P+this.calcedParams.fretSpacing/3.9,this.calcedParams.origin.y+this.calcedParams.fretSpacing*(C-1)+this.calcedParams.fretSpacing/3.2,C.toString(),this.params.fingersLabelColor,{size:this.calcedParams.fretSpacing/3.4,opacity:this.params.showFingerLabels?1:0})}}this.params.forcePosition&&this.params.forcePosition>1&&(this.elements.fingersTopCoer={node:this.elements.layers.stringMarkings.rect(this.params.width,p).move(0,0).stroke({width:0}).fill(r)}),this.elements.openStringMarkins=[],this.elements.mutedStringMarkings=[];for(var k=1;k<=this.params.numOfStrings;k+=1){var T="openStringMarking"+k;this.elements.layers[T]=this.elements.layers.stringMarkings.group().attr({id:T}).opacity(0),this.elements.openStringMarkins[k]={node:this.drawCircle(this.elements.layers[T],this.calcedParams.fretSpacing/3,this.calcedParams.origin.x+this.calcedParams.stringSpacing*(k-1)-this.calcedParams.fretSpacing/6,this.getOpenStringMarkingBaseYPosition()).stroke(this.params.defaultColor).fill(this.params.backgroundColor),label:this.drawText(this.elements.layers[T],this.calcedParams.origin.x+this.calcedParams.stringSpacing*(k-1),this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-.95*this.calcedParams.fretSpacing,this.params.tuning[k-1],this.params.defaultColor,{size:this.calcedParams.fretSpacing/5,opacity:this.params.showOpenStringsLabels?1:0})};var F="mutedStringMarking"+k;this.elements.layers[F]=this.elements.layers.stringMarkings.group().attr({id:F}).opacity(0),this.elements.mutedStringMarkings[k]={node:null,label:this.drawText(this.elements.layers[F],this.calcedParams.origin.x+this.calcedParams.stringSpacing*(k-1),this.getMutedStringMarkingBaseYPosition(),"X",this.params.defaultColor,{size:this.calcedParams.fretSpacing/3})}}this.elements.stringMarkingCover={node:this.elements.layers.stringMarkings.rect(this.params.width,this.calcedParams.origin.y-.75*this.calcedParams.stringSpacing).stroke({width:0}).fill(this.params.backgroundColor)},this.moveDiagramToFret(this.params.forcePosition||1),this.params.debugMode&&this.printParams()}},{key:"getOpenStringMarkingBaseYPosition",value:function(){return this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-this.calcedParams.fretSpacing}},{key:"getMutedStringMarkingBaseYPosition",value:function(){return this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-1.05*this.calcedParams.fretSpacing}},{key:"getFingerBasePosition",value:function(t){return[this.calcedParams.origin.x+this.calcedParams.stringSpacing*(this.params.numOfStrings-.5),this.calcedParams.origin.y+this.calcedParams.fretSpacing*(t-1)+this.calcedParams.fretSpacing/4]}},{key:"getFingerChordPosition",value:function(t,e){var r,a=e.string,n=e.fret,i=Array.isArray(a)?a[0]:a,s=void 0!==this.params.forcePosition&&!isNaN(this.params.forcePosition),o=t<=1?0:1-t,c=this.params.forcePosition<=1?0:1-this.params.forcePosition,l=s?c:o,d=this.calcedParams.origin.x+(this.params.numOfStrings-i-1.25/this.params.numOfFrets)*this.calcedParams.stringSpacing,h=this.calcedParams.origin.y+(n+l-.75)*this.calcedParams.fretSpacing;return Array.isArray(a)&&a[1]&&(r=this.calcedParams.stringSpacing*(a[0]-a[1])+this.calcedParams.stringSpacing/4),[d,h,r]}},{key:"moveDiagramToFret",value:function(t,e){var r=25-this.params.numOfFrets,a=t-1;if(a>r||a<0)console.error("Fret number should be between 1 to ".concat(r));else{var n=this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth,i=this.calcedParams.origin.y-.9*this.calcedParams.fontSize;e?(this.elements.layers.bridge.animate(this.calcedParams.animationDuration).ease("<>").y(n-this.calcedParams.fretSpacing*a),this.elements.layers.frets.animate(this.calcedParams.animationDuration).ease("<>").y(this.calcedParams.origin.y-this.calcedParams.fretSpacing*a),this.elements.layers.fretLabels.animate(this.calcedParams.animationDuration).ease("<>").y(i-this.calcedParams.fretSpacing*a)):(this.elements.layers.bridge.y(n-this.calcedParams.fretSpacing*a),this.elements.layers.frets.y(this.calcedParams.origin.y-this.calcedParams.fretSpacing*a),this.elements.layers.fretLabels.y(i-this.calcedParams.fretSpacing*a))}}},{key:"drawChord",value:function(t,e){var r=this;(void 0===this.params.forcePosition||isNaN(this.params.forcePosition))&&this.moveDiagramToFret(t.startFret,e);for(var a=function(a){var n=t.fingers.find((function(t){return t.index===a}));if(n){var i=r.getFingerChordPosition(t.startFret,n),s=Object(d.a)(i,3),o=s[0],c=s[1],l=s[2];e?(r.elements.layers["finger"+a].animate(r.calcedParams.animationDuration).ease("<>").move(o,c).opacity(1),l?(r.elements.layers["barre"+a].animate(r.calcedParams.animationDuration).ease("<>").move(o+r.calcedParams.stringSpacing/4,c+r.calcedParams.fretSpacing/4).opacity(1),r.elements.barres[a].node.animate(r.calcedParams.animationDuration).ease("<>").attr({x1:o+l})):(r.elements.layers["barre"+a].animate(r.calcedParams.animationDuration).ease("<>").move(o,c+r.calcedParams.fretSpacing/4).opacity(0),r.elements.barres[a].node.animate(r.calcedParams.animationDuration).ease("<>").attr({x1:o+r.calcedParams.fretSpacing/4,x2:o+r.calcedParams.fretSpacing/4}))):(r.elements.layers["finger"+a].move(o,c).opacity(1),l&&(r.elements.layers["barre"+a].move(o+r.calcedParams.stringSpacing/4,c+r.calcedParams.fretSpacing/4).opacity(1),r.elements.barres[a].node.attr({x1:o+l})))}else{var h=r.getFingerBasePosition(a),u=Object(d.a)(h,2),g=u[0],m=u[1];e?(r.elements.layers["finger"+a].animate(r.calcedParams.animationDuration).ease("<>").move(g,m).opacity(0),r.elements.layers["barre"+a].animate(r.calcedParams.animationDuration).ease("<>").move(g+r.calcedParams.stringSpacing/4,m+r.calcedParams.fretSpacing/4).opacity(0)):(r.elements.layers["finger"+a].move(g,m).opacity(0),r.elements.layers["barre"+a].move(g+r.calcedParams.stringSpacing/4,m+r.calcedParams.fretSpacing/4).opacity(0))}},n=1;n<5;n++)a(n);for(var i=1;i<=this.params.numOfStrings;i++)t.mutedStrings.includes(this.params.numOfStrings-i+1)?e?this.elements.layers["mutedStringMarking"+i].animate(this.calcedParams.animationDuration).ease("<>").y(this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-.53*this.calcedParams.fretSpacing).opacity(1):this.elements.layers["mutedStringMarking"+i].y(this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-.53*this.calcedParams.fretSpacing).opacity(1):e?this.elements.layers["mutedStringMarking"+i].animate(this.calcedParams.animationDuration).ease("<>").y(this.getMutedStringMarkingBaseYPosition()).opacity(0):this.elements.layers["mutedStringMarking"+i].y(this.getMutedStringMarkingBaseYPosition()).opacity(0),t.openStrings.includes(this.params.numOfStrings-i+1)?e?this.elements.layers["openStringMarking"+i].animate(this.calcedParams.animationDuration).ease("<>").y(this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-.5*this.calcedParams.fretSpacing).opacity(1):this.elements.layers["openStringMarking"+i].y(this.calcedParams.origin.y-this.calcedParams.bridgeStrokeWidth-.5*this.calcedParams.fretSpacing).opacity(1):e?this.elements.layers["openStringMarking"+i].animate(this.calcedParams.animationDuration).ease("<>").y(this.getOpenStringMarkingBaseYPosition()).opacity(0):this.elements.layers["openStringMarking"+i].y(this.getOpenStringMarkingBaseYPosition()).opacity(0);this.moveOldTitle(this.currentTitle,e),this.currentTitle=this.currentTitle%2+1,this.drawChordTitle(t.title,this.currentTitle,e)}},{key:"moveOldTitle",value:function(t,e){var r=this;e?this.elements.layers["chordTitle"+t].animate(this.calcedParams.animationDuration).ease("<>").x(-this.calcedParams.width/4).opacity(0):this.elements.layers["chordTitle"+t].x(-this.calcedParams.width/4).opacity(0),setTimeout((function(){r.elements.layers["chordTitle"+t].opacity(1).x(0).clear()}),this.calcedParams.animationDuration)}},{key:"drawChordTitle",value:function(t,e,r){this.elements.layers["chordTitle"+e].opacity(1),r?(this.elements["chordTitle"+e]=this.drawText(this.elements.layers["chordTitle"+e],this.params.width,this.calcedParams.origin.y/5,t,this.params.defaultColor,{size:3*this.calcedParams.fontSize}).attr({opacity:0}),this.elements["chordTitle"+e].animate(this.calcedParams.animationDuration).ease("<>").x(this.params.width/2-this.elements["chordTitle"+e].length()/2).attr({opacity:1})):this.elements["chordTitle"+e]=this.drawText(this.elements.layers["chordTitle"+e],this.params.width/2,this.calcedParams.origin.y/5,t,this.params.defaultColor,{size:3*this.calcedParams.fontSize})}}]),t}(),X=r(308),K=r(312),Q=r(153),Z=r.n(Q),$=r(154),_=r.n($),tt="#eeeeee",et="#616161",rt="#e65100",at="#ff9800",nt="#1976d2",it=u.a.div(M||(M=Object(h.a)(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  border-radius: 20px;\n  border: ",";\n  margin: 20px;\n  position: relative;\n"])),(function(t){var e=t.selected,r=t.hasErrors,a=t.isEmptyChord;return r?"4px solid ".concat(rt):a?"4px solid ".concat(at):e?"4px solid ".concat(nt):"2px solid ".concat(et)})),st=u.a.div(E||(E=Object(h.a)(["\n  display: flex;\n  justify-content: flex-start;\n  gap: 20px;\n  ","\n"])),(function(t){return t.alignCenter?"align-items: center;":null})),ot=u.a.div(W||(W=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),ct=u.a.div(A||(A=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  color: ",";;\n"])),(function(t){return"warning"===t.type?at:rt})),lt=u.a.div(z||(z=Object(h.a)(["\n  position: absolute;\n  border-radius: 50%;\n  width: ","px;\n  height: ","px;\n  background-color: ",";\n  color: ",";;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n"])),(function(t){return t.size}),(function(t){return t.size}),(function(t){var e=t.selected,r=t.hasErrors,a=t.isEmptyChord;return r?rt:a?at:e?nt:et}),(function(t){return t.isEmptyChord?"black":"white"}),(function(t){return t.fontSize})),dt=Object(u.a)(lt)(q||(q=Object(h.a)(["\n  top: -10px;\n  left: 15px;\n"]))),ht=Object(u.a)(lt)(V||(V=Object(h.a)(["\n  top: 35px;\n  right: -15px;\n"]))),ut=Object(u.a)(p.a)(N||(N=Object(h.a)(["\n  ","\n"])),(function(t){var e=t.width;return e?"width: ".concat(e,";"):"flex-grow: 1;"})),gt=Object(u.a)(X.a)(Y||(Y=Object(h.a)(["\n  width: ",";\n"])),(function(t){return t.width})),mt=Object(u.a)(K.a)(R||(R=Object(h.a)(["\n  padding: 0;\n"]))),ft=u.a.table(G||(G=Object(h.a)(["\n  width: 100%;\n  border-spacing: 0;\n\n  & tr:first-of-type {\n    td {\n      border-top: 1px "," solid;\n\n      &:first-of-type {\n        border-top-left-radius: 10px;\n      }\n\n      &:last-of-type {\n        border-top-right-radius: 10px;\n      }\n    }\n  }\n\n  & tr:last-of-type {\n    td {\n      border-bottom: 1px "," solid;\n\n      &:first-of-type {\n        border-bottom-left-radius: 10px;\n      }\n\n      &:last-of-type {\n        border-bottom-right-radius: 10px;\n      }\n    }\n  }\n\n  & td {\n    border-right: 1px "," solid;\n    border-bottom: 1px "," solid;\n    padding: 5px 8px;\n\n    &:first-of-type {\n      border-left: 1px "," solid;\n    }\n\n    &:not(:first-of-type) {\n      text-align: center;\n    }\n  }\n"])),tt,tt,tt,tt,tt),pt=function(t,e){return e&&e.fingers.find((function(e){return Array.isArray(e.string)&&e.string[0]===t||e.string===t}))||null};function bt(t,e){var r=0;return e.forEach((function(e){return e.index===t&&r++})),r>1}function jt(t,e){return t<e}function vt(t,e){return e.some((function(e){return e.fret<t}))}var Ct={emptyCustomChord:{type:"warning",text:"Finger positions are empty"},fingerAppearsTwice:{type:"error",text:"Same finger appears on two strings"},barreInvalid:{type:"error",text:"Barre end position cannot be bigger than string"},startFretIsAfterLowestFinger:{type:"error",text:"Start fret has to be lower than lowest finger"}};var yt,xt,Pt,Ot,St=function(t){var e=Object(i.useState)(t.chordConfiguration),r=Object(d.a)(e,2),a=r[0],n=r[1],s=Object(i.useRef)(null),o=function(t){var e={};return t.isLastPositionCustom&&t.selectedPosition===t.availablePositions.length&&0===t.chords[t.selectedPosition-1].fingers.length&&(e.emptyCustomChord=!0),[1,2,3,4].forEach((function(r){bt(r,t.chords[t.selectedPosition-1].fingers)&&(e.hasErrors=!0,e.fingerAppearsTwice=!0);var a=t.chords[t.selectedPosition-1].fingers.find((function(t){return t.index===r}));a&&Array.isArray(a.string)&&jt(a.string[0],a.string[1])&&(e.hasErrors=!0,e.barreInvalid=!0)})),vt(t.chords[t.selectedPosition-1].startFret,t.chords[t.selectedPosition-1].fingers)&&(e.hasErrors=!0,e.startFretIsAfterLowestFinger=!0),e}(a);Object(i.useEffect)((function(){n(t.chordConfiguration)}),[t.chordConfiguration]),Object(i.useEffect)((function(){s.current&&t.isCurrentChord&&s.current.scrollIntoView({behavior:"smooth",block:"center"})}),[t.isCurrentChord]);var c=a.chords[a.selectedPosition-1],h=function(){var e=B(a);t.onChange(Object(l.a)(Object(l.a)({},a),{},{string:e}),t.index)},u=function(t,e,r){var i=Object(l.a)({},a);if(i.isLastPositionCustom?i.selectedPosition=i.chords.length:(i.chords.push(i.chords[i.selectedPosition-1]),i.selectedPosition=i.chords.length,i.availablePositions.push(i.chords.length),i.isLastPositionCustom=!0),"mutedStrings"===e)i.chords[i.selectedPosition-1].mutedStrings=r[0],i.chords[i.selectedPosition-1].openStrings=r[1];else{var s=i.chords[i.selectedPosition-1].fingers.findIndex((function(e){return Array.isArray(e.string)&&e.string[0]===t||e.string===t}));if(s>-1)if(""===r&&"index"===e)i.chords[i.selectedPosition-1].fingers.splice(s,1);else{var o=parseInt(r);"string"===e&&(o=[t,r]),i.chords[i.selectedPosition-1].fingers[s]=Object(l.a)(Object(l.a)({},i.chords[i.selectedPosition-1].fingers[s]),{},Object(g.a)({},e,o))}else i.chords[i.selectedPosition-1].fingers.push({index:parseInt(r),string:t,fret:0})}return n(i),i};return Object(b.jsxs)(it,{selected:t.isCurrentChord,ref:s,hasErrors:o.hasErrors,isEmptyChord:o.emptyCustomChord,children:[Object(b.jsx)(dt,{selected:t.isCurrentChord,hasErrors:o.hasErrors,isEmptyChord:o.emptyCustomChord,size:20,fontSize:"0.6em",children:t.index+1}),Object(b.jsx)(ht,{selected:t.isCurrentChord,onClick:function(){return t.setAsCurrentChord()},hasErrors:o.hasErrors,isEmptyChord:o.emptyCustomChord,size:30,fontSize:"14px",children:Object(b.jsx)(Z.a,{style:{fontSize:"14px"}})}),Object(b.jsx)(st,{children:Object(b.jsx)(ut,{label:"Chord",variant:"standard",value:a.title,onChange:function(t){n(D(t.target.value))},onBlur:h,helperText:"Changing this value will reset the other fields"})}),Object(b.jsxs)(st,{children:[Object(b.jsx)(gt,{width:"110px",disableClearable:!0,options:a.availablePositions,value:a.selectedPosition,onChange:function(e,r){var i=Object(l.a)(Object(l.a)({},a),{},{selectedPosition:r}),s=B(i);n(Object(l.a)(Object(l.a)({},i),{},{string:s})),t.onChange(Object(l.a)(Object(l.a)({},i),{},{string:s}),t.index)},getOptionLabel:function(t){return a.isLastPositionCustom&&t===a.chords.length?"Custom":t.toString()},renderInput:function(t){return Object(b.jsx)(p.a,Object(l.a)(Object(l.a)({},t),{},{label:"Position",variant:"standard"}))}}),Object(b.jsx)(ut,{label:"Start Fret",variant:"standard",width:"80px",value:c.startFret,onFocus:function(t){return t.target.select()},onChange:function(t){return function(t){var e=Object(l.a)({},a),r=""!==t?parseInt(t):e.chords[e.selectedPosition-1].startFret;e.chords[e.selectedPosition-1].startFret=r,n(e)}(t.target.value)},onBlur:h,error:vt(c.startFret,c.fingers)})]}),Object(b.jsx)(st,{alignCenter:!0,children:Object(b.jsx)(ft,{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{style:{width:"30px"},children:"String:"}),[6,5,4,3,2,1].map((function(t){return Object(b.jsx)("td",{children:t},t)}))]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Finger:"}),Object(b.jsx)(b.Fragment,{children:[6,5,4,3,2,1].map((function(t){var e,r=pt(t,c),a=!isNaN(null!==(e=null===r||void 0===r?void 0:r.index)&&void 0!==e?e:NaN)&&(null===r||void 0===r?void 0:r.index)||"";return Object(b.jsx)("td",{children:Object(b.jsx)(ut,{onFocus:function(t){return t.target.select()},fullWidth:!0,width:"80%",variant:"standard",error:""!==a&&bt(a,c.fingers),inputProps:{style:{textAlign:"center"}},value:a,onChange:function(e){return u(t,"index",e.target.value)},onBlur:h},t)},t)}))})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Fret:"}),Object(b.jsx)(b.Fragment,{children:[6,5,4,3,2,1].map((function(t){var e,r=pt(t,c),a=!isNaN(null!==(e=null===r||void 0===r?void 0:r.fret)&&void 0!==e?e:NaN)&&(null===r||void 0===r?void 0:r.fret)||"";return Object(b.jsx)("td",{children:Object(b.jsx)(ut,{onFocus:function(t){return t.target.select()},fullWidth:!0,width:"80%",variant:"standard",inputProps:{style:{textAlign:"center"}},disabled:!(null===r||void 0===r?void 0:r.index),value:a,onChange:function(e){return u(t,"fret",e.target.value)},onBlur:h},t)},t)}))})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Barre:"}),Object(b.jsx)(b.Fragment,{children:[6,5,4,3,2,1].map((function(t){var e,r=pt(t,c),a=Array.isArray(null===r||void 0===r?void 0:r.string)&&!isNaN(null!==(e=null===r||void 0===r?void 0:r.string[1])&&void 0!==e?e:NaN)&&(null===r||void 0===r?void 0:r.string[1])||"";return Object(b.jsx)("td",{children:Object(b.jsx)(ut,{onFocus:function(t){return t.target.select()},fullWidth:!0,width:"80%",variant:"standard",error:""!==a&&jt(t,a),inputProps:{style:{textAlign:"center"}},disabled:!(null===r||void 0===r?void 0:r.index),value:a,onChange:function(e){return u(t,"string",e.target.value)},onBlur:h},t)},t)}))})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Muted:"}),Object(b.jsx)(b.Fragment,{children:[6,5,4,3,2,1].map((function(e){var r;return Object(b.jsx)("td",{children:Object(b.jsx)(mt,{checked:null!==(r=null===c||void 0===c?void 0:c.mutedStrings.includes(e))&&void 0!==r&&r,onChange:function(r){var a=Object(y.a)(c.mutedStrings),n=Object(y.a)(c.openStrings);r.target.checked?(a.push(e),n.splice(n.indexOf(e),1)):(a.splice(a.indexOf(e),1),n.push(e));var i=u(e,"mutedStrings",[a,n]),s=B(i);t.onChange(Object(l.a)(Object(l.a)({},i),{},{string:s}),t.index)}})},e)}))})]})]})})}),Object(b.jsx)(ot,{children:Object.keys(o).map((function(t){var e=Ct[t];return e?Object(b.jsxs)(ct,{type:e.type,children:[Object(b.jsx)(_.a,{}),e.text]},t):null}))})]})},wt=r(314),kt=Object(u.a)(wt.a)(yt||(yt=Object(h.a)(["\n  margin: 10px 0 -5px;\n"]))),Tt=u.a.div(xt||(xt=Object(h.a)(["\n  position: sticky;\n  bottom: 0;\n  background: linear-gradient(to bottom, transparent, #eeeeee 30%);\n  padding: 30px 20px 20px;\n  display: flex;\n  justify-content: flex-end;\n"]))),Ft=u.a.div(Pt||(Pt=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),Lt=Object(u.a)(p.a)(Ot||(Ot=Object(h.a)(["\n  background-color: rgba(25, 118, 210, 0.1);\n"])));var Bt,Dt,It,Mt=function(t){var e=Object(i.useState)(""),r=Object(d.a)(e,2),a=r[0],n=r[1],s=Object(i.useRef)(null);Object(i.useEffect)((function(){n(t.chordsConfigurations.map((function(t){return t.string})).join(" "))}),[t.chordsConfigurations]),Object(i.useEffect)((function(){!t.currentChord&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"start"})}),[t.currentChord]);var o=function(e,r){var a=Object(y.a)(t.chordsConfigurations);a[r]=e,t.setChordsConfigurations(a)},c=function(e){var r=Object(y.a)(t.chordsConfigurations);r.splice(e,1),t.setChordsConfigurations(r)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(Ft,{ref:s,children:Object(b.jsx)(Lt,{label:"Chord Sequence Text Input",value:a,onChange:function(t){return n(t.target.value)},onBlur:function(){var e=""===a?[]:a.replace("\n"," ").split(" ");t.setChordsConfigurations(I(e))},multiline:!0})}),t.chordsConfigurations.map((function(e,r){return Object(b.jsx)(St,{index:r,isCurrentChord:t.currentChord===r,setAsCurrentChord:function(){return t.setCurrentChord(r)},chordConfiguration:e,onChange:o,removeChord:c},r)})),Object(b.jsx)(Tt,{children:Object(b.jsx)(kt,{onClick:function(){t.setChordsConfigurations([].concat(Object(y.a)(t.chordsConfigurations),[L()]))},variant:"contained",children:"+Add Chord"})})]})},Et=r(310),Wt=r(317),At=r(316),zt=u.a.div(Bt||(Bt=Object(h.a)(["\n  background-color: ",";\n  flex-grow: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  overflow-y: auto;\n"])),tt,(function(t){return t.hidden?0:1})),qt=Object(u.a)(At.a)(Dt||(Dt=Object(h.a)(["\n  padding: 0;\n  width: 100%;\n"])));function Vt(t){var e=t.children,r=t.value,a=t.index;return Object(b.jsx)(zt,{role:"tabpanel",hidden:r!==a,children:r===a&&Object(b.jsx)(qt,{children:e})})}var Nt=Object(u.a)(At.a)(It||(It=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"])));var Yt,Rt=function(t){var e=t.tabs,r=s.a.useState(0),a=Object(d.a)(r,2),n=a[0],i=a[1];return Object(b.jsxs)(Nt,{children:[Object(b.jsx)(At.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(b.jsx)(Et.a,{variant:"fullWidth",value:n,onChange:function(t,e){i(e)},children:e.map((function(t,e){return Object(b.jsx)(Wt.a,{label:t.title},e)}))})}),e.map((function(t,e){return Object(b.jsx)(Vt,{value:n,index:e,children:t.content},e)}))]})},Gt=u.a.div(Yt||(Yt=Object(h.a)(["\n  height: 100%;\n  width: 30vw;\n  border-right: 2px solid ",";\n"])),tt);var Ht,Ut,Jt,Xt,Kt,Qt=function(t){return Object(b.jsx)(Gt,{children:Object(b.jsx)(Rt,{tabs:[{title:"Chords Sequencer",content:Object(b.jsx)(Mt,{chordsConfigurations:t.chords,setChordsConfigurations:t.setChords,currentChord:t.currentChord,setCurrentChord:t.setCurrentChord})},{title:"Diagram Configuration",content:Object(b.jsx)(C,{diagramConfiguration:t.diagramConfiguration,setDiagramConfiguration:t.setDiagramConfiguration})}]})})},Zt=u.a.div(Ht||(Ht=Object(h.a)(["\n  height: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n"]))),$t=u.a.div(Ut||(Ut=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  padding: 20px;\n  gap: 10px;\n"]))),_t=u.a.div(Jt||(Jt=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n"]))),te=u.a.div(Xt||(Xt=Object(h.a)(["\n  text-align: center;\n  color: #1976d2;\n\n  & span {\n    font-weight: 500;\n  }\n"]))),ee=u.a.div(Kt||(Kt=Object(h.a)(["\n  ","\n"])),(function(t){return t.debugMode?"border: 1px solid red;":null}));var re,ae=function(t){var e,r,a,n,s,o=t.diagramConfiguration,c=t.chords,l=t.setCurrentChord,h=Object(i.useRef)(null),u=Object(i.useRef)(null),g=Object(i.useState)("Play"),m=Object(d.a)(g,2),f=m[0],p=m[1];Object(i.useEffect)((function(){h.current&&(h.current.innerHTML="",u.current=new J("#main-chord-diagram-wrapper",o)),u.current&&u.current.drawBaseDiagram()}),[o]),Object(i.useEffect)((function(){null!==u.current&&(u.current&&u.current.getCurrentChord()&&u.current.getCurrentChord()>c.length&&u.current.moveToChordInSequence(null,!0),u.current.setChords(c))}),[c]);var j=function(t){null!==u.current&&l(1===t?u.current.moveToNextChord(!0):u.current.moveToPreviousChord(!0))};return Object(b.jsxs)(Zt,{children:[Object(b.jsx)(ee,{id:"main-chord-diagram-wrapper",ref:h,debugMode:o.debugMode}),Object(b.jsxs)($t,{children:[Object(b.jsxs)(_t,{children:[Object(b.jsx)(wt.a,{onClick:function(){return j(-1)},variant:"contained",disabled:null===(e=u.current)||void 0===e?void 0:e.isPlaying,children:"<-- Previous Chord"}),Object(b.jsx)(wt.a,{onClick:function(){var t,e,r;return r=null!==(t=null===(e=u.current)||void 0===e?void 0:e.isPlaying)&&void 0!==t&&t,void(null!==u.current&&(r?(u.current.stopSequence(!0,l),p("Play")):(u.current.playSequence(null,!0,l,(function(){return p("Play")})),p("Stop"))))},variant:"contained",children:f}),Object(b.jsx)(wt.a,{onClick:function(){return j(1)},variant:"contained",disabled:null===(r=u.current)||void 0===r?void 0:r.isPlaying,children:"Next Chord --\x3e"})]}),Object(b.jsxs)(te,{children:["Current chord: ",Object(b.jsx)("span",{children:(null===(a=u.current)||void 0===a?void 0:a.getCurrentChord())||0===(null===(n=u.current)||void 0===n?void 0:n.getCurrentChord())?(null===(s=u.current)||void 0===s?void 0:s.getCurrentChord())+1:"Empty"})]})]})]})},ne=u.a.div(re||(re=Object(h.a)(["\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n"])));var ie=function(){var t=Object(i.useState)(Object(l.a)(Object(l.a)({},U),{},{debugMode:!1})),e=Object(d.a)(t,2),r=e[0],a=e[1],n=Object(i.useState)(I(["C","Cmaj7","C7","F","F/E","D","G","Amin","A-maj7","Am7","Am6","F","Eb","G","C"])),s=Object(d.a)(n,2),o=s[0],c=s[1],h=Object(i.useState)(null),u=Object(d.a)(h,2),g=u[0],m=u[1];return Object(b.jsxs)(ne,{children:[Object(b.jsx)(Qt,{chords:o,setChords:c,diagramConfiguration:r,setDiagramConfiguration:a,currentChord:g,setCurrentChord:m}),Object(b.jsx)(ae,{diagramConfiguration:r,chords:o.map((function(t){return t.chords[t.selectedPosition-1]})),setCurrentChord:m})]})},se=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,319)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;r(t),a(t),n(t),i(t),s(t)}))};r(252),r(253),r(254),r(255);c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root")),se()}},[[256,1,2]]]);
//# sourceMappingURL=main.c844c530.chunk.js.map